var Nh=Object.defineProperty;var Eh=(t,e,r)=>e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zn=(t,e,r)=>(Eh(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ch(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Bu={exports:{}},ui={},Hu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=Symbol.for("react.element"),Ph=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),Mh=Symbol.for("react.lazy"),ml=Symbol.iterator;function zh(t){return t===null||typeof t!="object"?null:(t=ml&&t[ml]||t["@@iterator"],typeof t=="function"?t:null)}var Wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,qu={};function Wr(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Wu}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ku(){}Ku.prototype=Wr.prototype;function pa(t,e,r){this.props=t,this.context=e,this.refs=qu,this.updater=r||Wu}var ma=pa.prototype=new Ku;ma.constructor=pa;Vu(ma,Wr.prototype);ma.isPureReactComponent=!0;var gl=Array.isArray,Qu=Object.prototype.hasOwnProperty,ga={current:null},Gu={key:!0,ref:!0,__self:!0,__source:!0};function Ju(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qu.call(e,n)&&!Gu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Hn,type:t,key:i,ref:o,props:s,_owner:ga.current}}function Fh(t,e){return{$$typeof:Hn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ya(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hn}function Bh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yl=/\/+/g;function $i(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bh(""+t.key):e.toString(36)}function Ss(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hn:case Ph:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+$i(o,0):n,gl(s)?(r="",t!=null&&(r=t.replace(yl,"$&/")+"/"),Ss(s,e,r,"",function(c){return c})):s!=null&&(ya(s)&&(s=Fh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",gl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+$i(i,a);o+=Ss(i,e,r,l,s)}else if(l=zh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+$i(i,a++),o+=Ss(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function es(t,e,r){if(t==null)return t;var n=[],s=0;return Ss(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Hh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var me={current:null},js={transition:null},Wh={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:js,ReactCurrentOwner:ga};function Yu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:es,forEach:function(t,e,r){es(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return es(t,function(){e++}),e},toArray:function(t){return es(t,function(e){return e})||[]},only:function(t){if(!ya(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Wr;L.Fragment=Rh;L.Profiler=$h;L.PureComponent=pa;L.StrictMode=Oh;L.Suspense=Dh;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;L.act=Yu;L.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ga.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Qu.call(e,l)&&!Gu.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Hn,type:t.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(t){return t={$$typeof:Ah,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ih,_context:t},t.Consumer=t};L.createElement=Ju;L.createFactory=function(t){var e=Ju.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Lh,render:t}};L.isValidElement=ya;L.lazy=function(t){return{$$typeof:Mh,_payload:{_status:-1,_result:t},_init:Hh}};L.memo=function(t,e){return{$$typeof:Uh,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=js.transition;js.transition={};try{t()}finally{js.transition=e}};L.unstable_act=Yu;L.useCallback=function(t,e){return me.current.useCallback(t,e)};L.useContext=function(t){return me.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return me.current.useDeferredValue(t)};L.useEffect=function(t,e){return me.current.useEffect(t,e)};L.useId=function(){return me.current.useId()};L.useImperativeHandle=function(t,e,r){return me.current.useImperativeHandle(t,e,r)};L.useInsertionEffect=function(t,e){return me.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return me.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return me.current.useMemo(t,e)};L.useReducer=function(t,e,r){return me.current.useReducer(t,e,r)};L.useRef=function(t){return me.current.useRef(t)};L.useState=function(t){return me.current.useState(t)};L.useSyncExternalStore=function(t,e,r){return me.current.useSyncExternalStore(t,e,r)};L.useTransition=function(){return me.current.useTransition()};L.version="18.3.1";Hu.exports=L;var A=Hu.exports;const Vh=Th(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=A,Kh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Gh=Object.prototype.hasOwnProperty,Jh=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yh={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Gh.call(e,n)&&!Yh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Kh,type:t,key:i,ref:o,props:s,_owner:Jh.current}}ui.Fragment=Qh;ui.jsx=Xu;ui.jsxs=Xu;Bu.exports=ui;var u=Bu.exports,ho={},Zu={exports:{}},Pe={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var O=T.length;T.push(R);e:for(;0<O;){var J=O-1>>>1,te=T[J];if(0<s(te,R))T[J]=R,T[O]=te,O=J;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],O=T.pop();if(O!==R){T[0]=O;e:for(var J=0,te=T.length,Yn=te>>>1;J<Yn;){var Ft=2*(J+1)-1,Oi=T[Ft],Bt=Ft+1,Xn=T[Bt];if(0>s(Oi,O))Bt<te&&0>s(Xn,Oi)?(T[J]=Xn,T[Bt]=O,J=Bt):(T[J]=Oi,T[Ft]=O,J=Ft);else if(Bt<te&&0>s(Xn,O))T[J]=Xn,T[Bt]=O,J=Bt;else break e}}return R}function s(T,R){var O=T.sortIndex-R.sortIndex;return O!==0?O:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=T)n(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(c)}}function v(T){if(w=!1,m(T),!x)if(r(l)!==null)x=!0,Jr(k);else{var R=r(c);R!==null&&pt(v,R.startTime-T)}}function k(T,R){x=!1,w&&(w=!1,g(N),N=-1),y=!0;var O=f;try{for(m(R),h=r(l);h!==null&&(!(h.expirationTime>R)||T&&!ye());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var te=J(h.expirationTime<=R);R=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),m(R)}else n(l);h=r(l)}if(h!==null)var Yn=!0;else{var Ft=r(c);Ft!==null&&pt(v,Ft.startTime-R),Yn=!1}return Yn}finally{h=null,f=O,y=!1}}var _=!1,S=null,N=-1,$=5,C=-1;function ye(){return!(t.unstable_now()-C<$)}function G(){if(S!==null){var T=t.unstable_now();C=T;var R=!0;try{R=S(!0,T)}finally{R?Me():(_=!1,S=null)}}else _=!1}var Me;if(typeof p=="function")Me=function(){p(G)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Gr=ve.port2;ve.port1.onmessage=G,Me=function(){Gr.postMessage(null)}}else Me=function(){b(G,0)};function Jr(T){S=T,_||(_=!0,Me())}function pt(T,R){N=b(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Jr(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var O=f;f=R;try{return T()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=f;f=T;try{return R()}finally{f=O}},t.unstable_scheduleCallback=function(T,R,O){var J=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?J+O:J):O=J,T){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=O+te,T={id:d++,callback:R,priorityLevel:T,startTime:O,expirationTime:te,sortIndex:-1},O>J?(T.sortIndex=O,e(c,T),r(l)===null&&T===r(c)&&(w?(g(N),N=-1):w=!0,pt(v,O-J))):(T.sortIndex=te,e(l,T),x||y||(x=!0,Jr(k))),T},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(T){var R=f;return function(){var O=f;f=R;try{return T.apply(this,arguments)}finally{f=O}}}})(tc);ec.exports=tc;var Xh=ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=A,Ce=Xh;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,bn={};function or(t,e){Ar(t,e),Ar(t+"Capture",e)}function Ar(t,e){for(bn[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=Object.prototype.hasOwnProperty,ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vl={},wl={};function tf(t){return fo.call(wl,t)?!0:fo.call(vl,t)?!1:ef.test(t)?wl[t]=!0:(vl[t]=!0,!1)}function rf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nf(t,e,r,n){if(e===null||typeof e>"u"||rf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ge(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ae[e]=new ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ae[t]=new ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ae[t]=new ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ae[t]=new ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(va,wa);ae[e]=new ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(va,wa);ae[e]=new ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(va,wa);ae[e]=new ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new ge(t,1,!1,t.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ae[t]=new ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,r,n){var s=ae.hasOwnProperty(e)?ae[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nf(e,r,s,n)&&(r=null),n||s===null?tf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ft=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),_a=Symbol.for("react.strict_mode"),po=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),ka=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),xl=Symbol.iterator;function Yr(t){return t===null||typeof t!="object"?null:(t=xl&&t[xl]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,Ii;function an(t){if(Ii===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ii=e&&e[1]||""}return`
`+Ii+t}var Ai=!1;function Li(t,e){if(!t||Ai)return"";Ai=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ai=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?an(t):""}function sf(t){switch(t.tag){case 5:return an(t.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return t=Li(t.type,!1),t;case 11:return t=Li(t.type.render,!1),t;case 1:return t=Li(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case gr:return"Portal";case po:return"Profiler";case _a:return"StrictMode";case mo:return"Suspense";case go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sc:return(t.displayName||"Context")+".Consumer";case nc:return(t._context.displayName||"Context")+".Provider";case ka:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sa:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case yt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function of(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===_a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function At(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function af(t){var e=oc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rs(t){t._valueTracker||(t._valueTracker=af(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vo(t,e){var r=e.checked;return K({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _l(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=At(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lc(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function wo(t,e){lc(t,e);var r=At(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xo(t,e.type,r):e.hasOwnProperty("defaultValue")&&xo(t,e.type,At(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xo(t,e,r){(e!=="number"||As(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ln=Array.isArray;function Cr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+At(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _o(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return K({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(ln(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:At(r)}}function uc(t,e){var r=At(e.value),n=At(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ns,dc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ns.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lf=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(t){lf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hn[e]=hn[t]})});function hc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hn.hasOwnProperty(t)&&hn[t]?(""+e).trim():e+"px"}function fc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var uf=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(t,e){if(e){if(uf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,Pr=null,Rr=null;function bl(t){if(t=qn(t)){if(typeof No!="function")throw Error(j(280));var e=t.stateNode;e&&(e=pi(e),No(t.stateNode,t.type,e))}}function pc(t){Pr?Rr?Rr.push(t):Rr=[t]:Pr=t}function mc(){if(Pr){var t=Pr,e=Rr;if(Rr=Pr=null,bl(t),e)for(t=0;t<e.length;t++)bl(e[t])}}function gc(t,e){return t(e)}function yc(){}var Di=!1;function vc(t,e,r){if(Di)return t(e,r);Di=!0;try{return gc(t,e,r)}finally{Di=!1,(Pr!==null||Rr!==null)&&(yc(),mc())}}function En(t,e){var r=t.stateNode;if(r===null)return null;var n=pi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var Eo=!1;if(ut)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Eo=!1}function cf(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var fn=!1,Ls=null,Ds=!1,To=null,df={onError:function(t){fn=!0,Ls=t}};function hf(t,e,r,n,s,i,o,a,l){fn=!1,Ls=null,cf.apply(df,arguments)}function ff(t,e,r,n,s,i,o,a,l){if(hf.apply(this,arguments),fn){if(fn){var c=Ls;fn=!1,Ls=null}else throw Error(j(198));Ds||(Ds=!0,To=c)}}function ar(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nl(t){if(ar(t)!==t)throw Error(j(188))}function pf(t){var e=t.alternate;if(!e){if(e=ar(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nl(s),t;if(i===n)return Nl(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function xc(t){return t=pf(t),t!==null?_c(t):null}function _c(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_c(t);if(e!==null)return e;t=t.sibling}return null}var kc=Ce.unstable_scheduleCallback,El=Ce.unstable_cancelCallback,mf=Ce.unstable_shouldYield,gf=Ce.unstable_requestPaint,Y=Ce.unstable_now,yf=Ce.unstable_getCurrentPriorityLevel,ba=Ce.unstable_ImmediatePriority,Sc=Ce.unstable_UserBlockingPriority,Us=Ce.unstable_NormalPriority,vf=Ce.unstable_LowPriority,jc=Ce.unstable_IdlePriority,ci=null,et=null;function wf(t){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:kf,xf=Math.log,_f=Math.LN2;function kf(t){return t>>>=0,t===0?32:31-(xf(t)/_f|0)|0}var ss=64,is=4194304;function un(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ms(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=un(a):(i&=o,i!==0&&(n=un(i)))}else o=r&~s,o!==0?n=un(o):i!==0&&(n=un(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qe(e),s=1<<r,n|=t[r],e&=~s;return n}function Sf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qe(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Sf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Co(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bc(){var t=ss;return ss<<=1,!(ss&4194240)&&(ss=64),t}function Ui(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qe(e),t[e]=r}function bf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-qe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Na(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var U=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ec,Ea,Tc,Cc,Pc,Po=!1,os=[],Nt=null,Et=null,Tt=null,Tn=new Map,Cn=new Map,xt=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(t,e){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Tn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(e.pointerId)}}function Zr(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qn(e),e!==null&&Ea(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ef(t,e,r,n,s){switch(e){case"focusin":return Nt=Zr(Nt,t,e,r,n,s),!0;case"dragenter":return Et=Zr(Et,t,e,r,n,s),!0;case"mouseover":return Tt=Zr(Tt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Tn.set(i,Zr(Tn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Cn.set(i,Zr(Cn.get(i)||null,t,e,r,n,s)),!0}return!1}function Rc(t){var e=Gt(t.target);if(e!==null){var r=ar(e);if(r!==null){if(e=r.tag,e===13){if(e=wc(r),e!==null){t.blockedOn=e,Pc(t.priority,function(){Tc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bo=n,r.target.dispatchEvent(n),bo=null}else return e=qn(r),e!==null&&Ea(e),t.blockedOn=r,!1;e.shift()}return!0}function Cl(t,e,r){bs(t)&&r.delete(e)}function Tf(){Po=!1,Nt!==null&&bs(Nt)&&(Nt=null),Et!==null&&bs(Et)&&(Et=null),Tt!==null&&bs(Tt)&&(Tt=null),Tn.forEach(Cl),Cn.forEach(Cl)}function en(t,e){t.blockedOn===e&&(t.blockedOn=null,Po||(Po=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Tf)))}function Pn(t){function e(s){return en(s,t)}if(0<os.length){en(os[0],t);for(var r=1;r<os.length;r++){var n=os[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nt!==null&&en(Nt,t),Et!==null&&en(Et,t),Tt!==null&&en(Tt,t),Tn.forEach(e),Cn.forEach(e),r=0;r<xt.length;r++)n=xt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<xt.length&&(r=xt[0],r.blockedOn===null);)Rc(r),r.blockedOn===null&&xt.shift()}var Or=ft.ReactCurrentBatchConfig,zs=!0;function Cf(t,e,r,n){var s=U,i=Or.transition;Or.transition=null;try{U=1,Ta(t,e,r,n)}finally{U=s,Or.transition=i}}function Pf(t,e,r,n){var s=U,i=Or.transition;Or.transition=null;try{U=4,Ta(t,e,r,n)}finally{U=s,Or.transition=i}}function Ta(t,e,r,n){if(zs){var s=Ro(t,e,r,n);if(s===null)Qi(t,e,n,Fs,r),Tl(t,n);else if(Ef(s,t,e,r,n))n.stopPropagation();else if(Tl(t,n),e&4&&-1<Nf.indexOf(t)){for(;s!==null;){var i=qn(s);if(i!==null&&Ec(i),i=Ro(t,e,r,n),i===null&&Qi(t,e,n,Fs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qi(t,e,n,null,r)}}var Fs=null;function Ro(t,e,r,n){if(Fs=null,t=ja(n),t=Gt(t),t!==null)if(e=ar(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function Oc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case ba:return 1;case Sc:return 4;case Us:case vf:return 16;case jc:return 536870912;default:return 16}default:return 16}}var St=null,Ca=null,Ns=null;function $c(){if(Ns)return Ns;var t,e=Ca,r=e.length,n,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ns=s.slice(t,1<n?1-n:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function Pl(){return!1}function Re(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:Pl,this.isPropagationStopped=Pl,this}return K(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),e}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Re(Vr),Vn=K({},Vr,{view:0,detail:0}),Rf=Re(Vn),Mi,zi,tn,di=K({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tn&&(tn&&t.type==="mousemove"?(Mi=t.screenX-tn.screenX,zi=t.screenY-tn.screenY):zi=Mi=0,tn=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:zi}}),Rl=Re(di),Of=K({},di,{dataTransfer:0}),$f=Re(Of),If=K({},Vn,{relatedTarget:0}),Fi=Re(If),Af=K({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lf=Re(Af),Df=K({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uf=Re(Df),Mf=K({},Vr,{data:0}),Ol=Re(Mf),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bf[t])?!!e[t]:!1}function Ra(){return Hf}var Wf=K({},Vn,{key:function(t){if(t.key){var e=zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ff[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vf=Re(Wf),qf=K({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=Re(qf),Kf=K({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),Qf=Re(Kf),Gf=K({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=Re(Gf),Yf=K({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Re(Yf),Zf=[9,13,27,32],Oa=ut&&"CompositionEvent"in window,pn=null;ut&&"documentMode"in document&&(pn=document.documentMode);var ep=ut&&"TextEvent"in window&&!pn,Ic=ut&&(!Oa||pn&&8<pn&&11>=pn),Il=String.fromCharCode(32),Al=!1;function Ac(t,e){switch(t){case"keyup":return Zf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function tp(t,e){switch(t){case"compositionend":return Lc(e);case"keypress":return e.which!==32?null:(Al=!0,Il);case"textInput":return t=e.data,t===Il&&Al?null:t;default:return null}}function rp(t,e){if(vr)return t==="compositionend"||!Oa&&Ac(t,e)?(t=$c(),Ns=Ca=St=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ic&&e.locale!=="ko"?null:e.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ll(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!np[t.type]:e==="textarea"}function Dc(t,e,r,n){pc(n),e=Bs(e,"onChange"),0<e.length&&(r=new Pa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mn=null,Rn=null;function sp(t){Qc(t,0)}function hi(t){var e=_r(t);if(ac(e))return t}function ip(t,e){if(t==="change")return e}var Uc=!1;if(ut){var Bi;if(ut){var Hi="oninput"in document;if(!Hi){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),Hi=typeof Dl.oninput=="function"}Bi=Hi}else Bi=!1;Uc=Bi&&(!document.documentMode||9<document.documentMode)}function Ul(){mn&&(mn.detachEvent("onpropertychange",Mc),Rn=mn=null)}function Mc(t){if(t.propertyName==="value"&&hi(Rn)){var e=[];Dc(e,Rn,t,ja(t)),vc(sp,e)}}function op(t,e,r){t==="focusin"?(Ul(),mn=e,Rn=r,mn.attachEvent("onpropertychange",Mc)):t==="focusout"&&Ul()}function ap(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hi(Rn)}function lp(t,e){if(t==="click")return hi(e)}function up(t,e){if(t==="input"||t==="change")return hi(e)}function cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qe=typeof Object.is=="function"?Object.is:cp;function On(t,e){if(Qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fo.call(e,s)||!Qe(t[s],e[s]))return!1}return!0}function Ml(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zl(t,e){var r=Ml(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ml(r)}}function zc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fc(){for(var t=window,e=As();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=As(t.document)}return e}function $a(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dp(t){var e=Fc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zc(r.ownerDocument.documentElement,r)){if(n!==null&&$a(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=zl(r,i);var o=zl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hp=ut&&"documentMode"in document&&11>=document.documentMode,wr=null,Oo=null,gn=null,$o=!1;function Fl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$o||wr==null||wr!==As(n)||(n=wr,"selectionStart"in n&&$a(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gn&&On(gn,n)||(gn=n,n=Bs(Oo,"onSelect"),0<n.length&&(e=new Pa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wr)))}function ls(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Wi={},Bc={};ut&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function fi(t){if(Wi[t])return Wi[t];if(!xr[t])return t;var e=xr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bc)return Wi[t]=e[r];return t}var Hc=fi("animationend"),Wc=fi("animationiteration"),Vc=fi("animationstart"),qc=fi("transitionend"),Kc=new Map,Bl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dt(t,e){Kc.set(t,e),or(e,[t])}for(var Vi=0;Vi<Bl.length;Vi++){var qi=Bl[Vi],fp=qi.toLowerCase(),pp=qi[0].toUpperCase()+qi.slice(1);Dt(fp,"on"+pp)}Dt(Hc,"onAnimationEnd");Dt(Wc,"onAnimationIteration");Dt(Vc,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(qc,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(cn));function Hl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ff(n,e,void 0,t),t.currentTarget=null}function Qc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}}}if(Ds)throw t=To,Ds=!1,To=null,t}function B(t,e){var r=e[Uo];r===void 0&&(r=e[Uo]=new Set);var n=t+"__bubble";r.has(n)||(Gc(e,t,2,!1),r.add(n))}function Ki(t,e,r){var n=0;e&&(n|=4),Gc(r,t,n,e)}var us="_reactListening"+Math.random().toString(36).slice(2);function $n(t){if(!t[us]){t[us]=!0,rc.forEach(function(r){r!=="selectionchange"&&(mp.has(r)||Ki(r,!1,t),Ki(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[us]||(e[us]=!0,Ki("selectionchange",!1,e))}}function Gc(t,e,r,n){switch(Oc(e)){case 1:var s=Cf;break;case 4:s=Pf;break;default:s=Ta}r=s.bind(null,e,r,t),s=void 0,!Eo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Qi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}vc(function(){var c=i,d=ja(r),h=[];e:{var f=Kc.get(t);if(f!==void 0){var y=Pa,x=t;switch(t){case"keypress":if(Es(r)===0)break e;case"keydown":case"keyup":y=Vf;break;case"focusin":x="focus",y=Fi;break;case"focusout":x="blur",y=Fi;break;case"beforeblur":case"afterblur":y=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qf;break;case Hc:case Wc:case Vc:y=Lf;break;case qc:y=Jf;break;case"scroll":y=Rf;break;case"wheel":y=Xf;break;case"copy":case"cut":case"paste":y=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$l}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,m;p!==null;){m=p;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,g!==null&&(v=En(p,g),v!=null&&w.push(In(p,v,m)))),b)break;p=p.return}0<w.length&&(f=new y(f,x,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==bo&&(x=r.relatedTarget||r.fromElement)&&(Gt(x)||x[ct]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=c,x=x?Gt(x):null,x!==null&&(b=ar(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(w=Rl,v="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=$l,v="onPointerLeave",g="onPointerEnter",p="pointer"),b=y==null?f:_r(y),m=x==null?f:_r(x),f=new w(v,p+"leave",y,r,d),f.target=b,f.relatedTarget=m,v=null,Gt(d)===c&&(w=new w(g,p+"enter",x,r,d),w.target=m,w.relatedTarget=b,v=w),b=v,y&&x)t:{for(w=y,g=x,p=0,m=w;m;m=ur(m))p++;for(m=0,v=g;v;v=ur(v))m++;for(;0<p-m;)w=ur(w),p--;for(;0<m-p;)g=ur(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=ur(w),g=ur(g)}w=null}else w=null;y!==null&&Wl(h,f,y,w,!1),x!==null&&b!==null&&Wl(h,b,x,w,!0)}}e:{if(f=c?_r(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=ip;else if(Ll(f))if(Uc)k=up;else{k=ap;var _=op}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=lp);if(k&&(k=k(t,c))){Dc(h,k,r,d);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&xo(f,"number",f.value)}switch(_=c?_r(c):window,t){case"focusin":(Ll(_)||_.contentEditable==="true")&&(wr=_,Oo=c,gn=null);break;case"focusout":gn=Oo=wr=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Fl(h,r,d);break;case"selectionchange":if(hp)break;case"keydown":case"keyup":Fl(h,r,d)}var S;if(Oa)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else vr?Ac(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Ic&&r.locale!=="ko"&&(vr||N!=="onCompositionStart"?N==="onCompositionEnd"&&vr&&(S=$c()):(St=d,Ca="value"in St?St.value:St.textContent,vr=!0)),_=Bs(c,N),0<_.length&&(N=new Ol(N,t,null,r,d),h.push({event:N,listeners:_}),S?N.data=S:(S=Lc(r),S!==null&&(N.data=S)))),(S=ep?tp(t,r):rp(t,r))&&(c=Bs(c,"onBeforeInput"),0<c.length&&(d=new Ol("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=S))}Qc(h,e)})}function In(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=En(t,r),i!=null&&n.unshift(In(t,i,s)),i=En(t,e),i!=null&&n.push(In(t,i,s))),t=t.return}return n}function ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=En(r,i),l!=null&&o.unshift(In(r,l,a))):s||(l=En(r,i),l!=null&&o.push(In(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function Vl(t){return(typeof t=="string"?t:""+t).replace(gp,`
`).replace(yp,"")}function cs(t,e,r){if(e=Vl(e),Vl(t)!==e&&r)throw Error(j(425))}function Hs(){}var Io=null,Ao=null;function Lo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,vp=typeof clearTimeout=="function"?clearTimeout:void 0,ql=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof ql<"u"?function(t){return ql.resolve(null).then(t).catch(xp)}:Do;function xp(t){setTimeout(function(){throw t})}function Gi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Pn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pn(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qr=Math.random().toString(36).slice(2),Ze="__reactFiber$"+qr,An="__reactProps$"+qr,ct="__reactContainer$"+qr,Uo="__reactEvents$"+qr,_p="__reactListeners$"+qr,kp="__reactHandles$"+qr;function Gt(t){var e=t[Ze];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ct]||r[Ze]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Kl(t);t!==null;){if(r=t[Ze])return r;t=Kl(t)}return e}t=r,r=t.parentNode}return null}function qn(t){return t=t[Ze]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function pi(t){return t[An]||null}var Mo=[],kr=-1;function Ut(t){return{current:t}}function H(t){0>kr||(t.current=Mo[kr],Mo[kr]=null,kr--)}function F(t,e){kr++,Mo[kr]=t.current,t.current=e}var Lt={},he=Ut(Lt),Se=Ut(!1),tr=Lt;function Lr(t,e){var r=t.type.contextTypes;if(!r)return Lt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function Ws(){H(Se),H(he)}function Ql(t,e,r){if(he.current!==Lt)throw Error(j(168));F(he,e),F(Se,r)}function Jc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,of(t)||"Unknown",s));return K({},r,n)}function Vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lt,tr=he.current,F(he,t),F(Se,Se.current),!0}function Gl(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=Jc(t,e,tr),n.__reactInternalMemoizedMergedChildContext=t,H(Se),H(he),F(he,t)):H(Se),F(Se,r)}var it=null,mi=!1,Ji=!1;function Yc(t){it===null?it=[t]:it.push(t)}function Sp(t){mi=!0,Yc(t)}function Mt(){if(!Ji&&it!==null){Ji=!0;var t=0,e=U;try{var r=it;for(U=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}it=null,mi=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),kc(ba,Mt),s}finally{U=e,Ji=!1}}return null}var Sr=[],jr=0,qs=null,Ks=0,Oe=[],$e=0,rr=null,ot=1,at="";function Wt(t,e){Sr[jr++]=Ks,Sr[jr++]=qs,qs=t,Ks=e}function Xc(t,e,r){Oe[$e++]=ot,Oe[$e++]=at,Oe[$e++]=rr,rr=t;var n=ot;t=at;var s=32-qe(n)-1;n&=~(1<<s),r+=1;var i=32-qe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ot=1<<32-qe(e)+s|r<<s|n,at=i+t}else ot=1<<i|r<<s|n,at=t}function Ia(t){t.return!==null&&(Wt(t,1),Xc(t,1,0))}function Aa(t){for(;t===qs;)qs=Sr[--jr],Sr[jr]=null,Ks=Sr[--jr],Sr[jr]=null;for(;t===rr;)rr=Oe[--$e],Oe[$e]=null,at=Oe[--$e],Oe[$e]=null,ot=Oe[--$e],Oe[$e]=null}var Te=null,Ee=null,W=!1,Ve=null;function Zc(t,e){var r=Ie(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Te=t,Ee=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Te=t,Ee=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=rr!==null?{id:ot,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ie(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Te=t,Ee=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fo(t){if(W){var e=Ee;if(e){var r=e;if(!Jl(t,e)){if(zo(t))throw Error(j(418));e=Ct(r.nextSibling);var n=Te;e&&Jl(t,e)?Zc(n,r):(t.flags=t.flags&-4097|2,W=!1,Te=t)}}else{if(zo(t))throw Error(j(418));t.flags=t.flags&-4097|2,W=!1,Te=t}}}function Yl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Te=t}function ds(t){if(t!==Te)return!1;if(!W)return Yl(t),W=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lo(t.type,t.memoizedProps)),e&&(e=Ee)){if(zo(t))throw ed(),Error(j(418));for(;e;)Zc(t,e),e=Ct(e.nextSibling)}if(Yl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ee=Ct(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ee=null}}else Ee=Te?Ct(t.stateNode.nextSibling):null;return!0}function ed(){for(var t=Ee;t;)t=Ct(t.nextSibling)}function Dr(){Ee=Te=null,W=!1}function La(t){Ve===null?Ve=[t]:Ve.push(t)}var jp=ft.ReactCurrentBatchConfig;function rn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function hs(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xl(t){var e=t._init;return e(t._payload)}function td(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=$t(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,v){return p===null||p.tag!==6?(p=no(m,g.mode,v),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,v){var k=m.type;return k===yr?d(g,p,m.props.children,v,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===yt&&Xl(k)===p.type)?(v=s(p,m.props),v.ref=rn(g,p,m),v.return=g,v):(v=Is(m.type,m.key,m.props,null,g.mode,v),v.ref=rn(g,p,m),v.return=g,v)}function c(g,p,m,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=so(m,g.mode,v),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,v,k){return p===null||p.tag!==7?(p=er(m,g.mode,v,k),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=no(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ts:return m=Is(p.type,p.key,p.props,null,g.mode,m),m.ref=rn(g,null,p),m.return=g,m;case gr:return p=so(p,g.mode,m),p.return=g,p;case yt:var v=p._init;return h(g,v(p._payload),m)}if(ln(p)||Yr(p))return p=er(p,g.mode,m,null),p.return=g,p;hs(g,p)}return null}function f(g,p,m,v){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(g,p,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ts:return m.key===k?l(g,p,m,v):null;case gr:return m.key===k?c(g,p,m,v):null;case yt:return k=m._init,f(g,p,k(m._payload),v)}if(ln(m)||Yr(m))return k!==null?null:d(g,p,m,v,null);hs(g,m)}return null}function y(g,p,m,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(m)||null,a(p,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ts:return g=g.get(v.key===null?m:v.key)||null,l(p,g,v,k);case gr:return g=g.get(v.key===null?m:v.key)||null,c(p,g,v,k);case yt:var _=v._init;return y(g,p,m,_(v._payload),k)}if(ln(v)||Yr(v))return g=g.get(m)||null,d(p,g,v,k,null);hs(p,v)}return null}function x(g,p,m,v){for(var k=null,_=null,S=p,N=p=0,$=null;S!==null&&N<m.length;N++){S.index>N?($=S,S=null):$=S.sibling;var C=f(g,S,m[N],v);if(C===null){S===null&&(S=$);break}t&&S&&C.alternate===null&&e(g,S),p=i(C,p,N),_===null?k=C:_.sibling=C,_=C,S=$}if(N===m.length)return r(g,S),W&&Wt(g,N),k;if(S===null){for(;N<m.length;N++)S=h(g,m[N],v),S!==null&&(p=i(S,p,N),_===null?k=S:_.sibling=S,_=S);return W&&Wt(g,N),k}for(S=n(g,S);N<m.length;N++)$=y(S,g,N,m[N],v),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?N:$.key),p=i($,p,N),_===null?k=$:_.sibling=$,_=$);return t&&S.forEach(function(ye){return e(g,ye)}),W&&Wt(g,N),k}function w(g,p,m,v){var k=Yr(m);if(typeof k!="function")throw Error(j(150));if(m=k.call(m),m==null)throw Error(j(151));for(var _=k=null,S=p,N=p=0,$=null,C=m.next();S!==null&&!C.done;N++,C=m.next()){S.index>N?($=S,S=null):$=S.sibling;var ye=f(g,S,C.value,v);if(ye===null){S===null&&(S=$);break}t&&S&&ye.alternate===null&&e(g,S),p=i(ye,p,N),_===null?k=ye:_.sibling=ye,_=ye,S=$}if(C.done)return r(g,S),W&&Wt(g,N),k;if(S===null){for(;!C.done;N++,C=m.next())C=h(g,C.value,v),C!==null&&(p=i(C,p,N),_===null?k=C:_.sibling=C,_=C);return W&&Wt(g,N),k}for(S=n(g,S);!C.done;N++,C=m.next())C=y(S,g,N,C.value,v),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?N:C.key),p=i(C,p,N),_===null?k=C:_.sibling=C,_=C);return t&&S.forEach(function(G){return e(g,G)}),W&&Wt(g,N),k}function b(g,p,m,v){if(typeof m=="object"&&m!==null&&m.type===yr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ts:e:{for(var k=m.key,_=p;_!==null;){if(_.key===k){if(k=m.type,k===yr){if(_.tag===7){r(g,_.sibling),p=s(_,m.props.children),p.return=g,g=p;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===yt&&Xl(k)===_.type){r(g,_.sibling),p=s(_,m.props),p.ref=rn(g,_,m),p.return=g,g=p;break e}r(g,_);break}else e(g,_);_=_.sibling}m.type===yr?(p=er(m.props.children,g.mode,v,m.key),p.return=g,g=p):(v=Is(m.type,m.key,m.props,null,g.mode,v),v.ref=rn(g,p,m),v.return=g,g=v)}return o(g);case gr:e:{for(_=m.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=so(m,g.mode,v),p.return=g,g=p}return o(g);case yt:return _=m._init,b(g,p,_(m._payload),v)}if(ln(m))return x(g,p,m,v);if(Yr(m))return w(g,p,m,v);hs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=no(m,g.mode,v),p.return=g,g=p),o(g)):r(g,p)}return b}var Ur=td(!0),rd=td(!1),Qs=Ut(null),Gs=null,br=null,Da=null;function Ua(){Da=br=Gs=null}function Ma(t){var e=Qs.current;H(Qs),t._currentValue=e}function Bo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $r(t,e){Gs=t,Da=br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function De(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},br===null){if(Gs===null)throw Error(j(308));br=t,Gs.dependencies={lanes:0,firstContext:t}}else br=br.next=t;return e}var Jt=null;function za(t){Jt===null?Jt=[t]:Jt.push(t)}function nd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,za(e)):(r.next=s.next,s.next=r),e.interleaved=r,dt(t,n)}function dt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var vt=!1;function Fa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,dt(t,r)}return s=n.interleaved,s===null?(e.next=e,za(n)):(e.next=s.next,s.next=e),n.interleaved=e,dt(t,r)}function Ts(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Na(t,r)}}function Zl(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Js(t,e,r,n){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(f=e,y=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(y,h,f):x,f==null)break e;h=K({},h,f);break e;case 2:vt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sr|=o,t.lanes=o,t.memoizedState=h}}function eu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Kn={},tt=Ut(Kn),Ln=Ut(Kn),Dn=Ut(Kn);function Yt(t){if(t===Kn)throw Error(j(174));return t}function Ba(t,e){switch(F(Dn,e),F(Ln,t),F(tt,Kn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ko(e,t)}H(tt),F(tt,e)}function Mr(){H(tt),H(Ln),H(Dn)}function id(t){Yt(Dn.current);var e=Yt(tt.current),r=ko(e,t.type);e!==r&&(F(Ln,t),F(tt,r))}function Ha(t){Ln.current===t&&(H(tt),H(Ln))}var V=Ut(0);function Ys(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yi=[];function Wa(){for(var t=0;t<Yi.length;t++)Yi[t]._workInProgressVersionPrimary=null;Yi.length=0}var Cs=ft.ReactCurrentDispatcher,Xi=ft.ReactCurrentBatchConfig,nr=0,q=null,Z=null,ne=null,Xs=!1,yn=!1,Un=0,bp=0;function le(){throw Error(j(321))}function Va(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qe(t[r],e[r]))return!1;return!0}function qa(t,e,r,n,s,i){if(nr=i,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?Cp:Pp,t=r(n,s),yn){i=0;do{if(yn=!1,Un=0,25<=i)throw Error(j(301));i+=1,ne=Z=null,e.updateQueue=null,Cs.current=Rp,t=r(n,s)}while(yn)}if(Cs.current=Zs,e=Z!==null&&Z.next!==null,nr=0,ne=Z=q=null,Xs=!1,e)throw Error(j(300));return t}function Ka(){var t=Un!==0;return Un=0,t}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?q.memoizedState=ne=t:ne=ne.next=t,ne}function Ue(){if(Z===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=Z.next;var e=ne===null?q.memoizedState:ne.next;if(e!==null)ne=e,Z=t;else{if(t===null)throw Error(j(310));Z=t,t={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ne===null?q.memoizedState=ne=t:ne=ne.next=t}return ne}function Mn(t,e){return typeof e=="function"?e(t):e}function Zi(t){var e=Ue(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=Z,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((nr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,q.lanes|=d,sr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Qe(n,e.memoizedState)||(ke=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,q.lanes|=i,sr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function eo(t){var e=Ue(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qe(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function od(){}function ad(t,e){var r=q,n=Ue(),s=e(),i=!Qe(n.memoizedState,s);if(i&&(n.memoizedState=s,ke=!0),n=n.queue,Qa(cd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ne!==null&&ne.memoizedState.tag&1){if(r.flags|=2048,zn(9,ud.bind(null,r,n,s,e),void 0,null),se===null)throw Error(j(349));nr&30||ld(r,e,s)}return s}function ld(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ud(t,e,r,n){e.value=r,e.getSnapshot=n,dd(e)&&hd(t)}function cd(t,e,r){return r(function(){dd(e)&&hd(t)})}function dd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qe(t,r)}catch{return!0}}function hd(t){var e=dt(t,1);e!==null&&Ke(e,t,1,-1)}function tu(t){var e=Ye();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:t},e.queue=t,t=t.dispatch=Tp.bind(null,q,t),[e.memoizedState,t]}function zn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fd(){return Ue().memoizedState}function Ps(t,e,r,n){var s=Ye();q.flags|=t,s.memoizedState=zn(1|e,r,void 0,n===void 0?null:n)}function gi(t,e,r,n){var s=Ue();n=n===void 0?null:n;var i=void 0;if(Z!==null){var o=Z.memoizedState;if(i=o.destroy,n!==null&&Va(n,o.deps)){s.memoizedState=zn(e,r,i,n);return}}q.flags|=t,s.memoizedState=zn(1|e,r,i,n)}function ru(t,e){return Ps(8390656,8,t,e)}function Qa(t,e){return gi(2048,8,t,e)}function pd(t,e){return gi(4,2,t,e)}function md(t,e){return gi(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yd(t,e,r){return r=r!=null?r.concat([t]):null,gi(4,4,gd.bind(null,e,t),r)}function Ga(){}function vd(t,e){var r=Ue();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wd(t,e){var r=Ue();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function xd(t,e,r){return nr&21?(Qe(r,e)||(r=bc(),q.lanes|=r,sr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=r)}function Np(t,e){var r=U;U=r!==0&&4>r?r:4,t(!0);var n=Xi.transition;Xi.transition={};try{t(!1),e()}finally{U=r,Xi.transition=n}}function _d(){return Ue().memoizedState}function Ep(t,e,r){var n=Ot(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kd(t))Sd(e,r);else if(r=nd(t,e,r,n),r!==null){var s=pe();Ke(r,t,n,s),jd(r,e,n)}}function Tp(t,e,r){var n=Ot(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Sd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Qe(a,o)){var l=e.interleaved;l===null?(s.next=s,za(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=nd(t,e,s,n),r!==null&&(s=pe(),Ke(r,t,n,s),jd(r,e,n))}}function kd(t){var e=t.alternate;return t===q||e!==null&&e===q}function Sd(t,e){yn=Xs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Na(t,r)}}var Zs={readContext:De,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useInsertionEffect:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useMutableSource:le,useSyncExternalStore:le,useId:le,unstable_isNewReconciler:!1},Cp={readContext:De,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:ru,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ps(4194308,4,gd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var r=Ye();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ye();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ep.bind(null,q,t),[n.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:tu,useDebugValue:Ga,useDeferredValue:function(t){return Ye().memoizedState=t},useTransition:function(){var t=tu(!1),e=t[0];return t=Np.bind(null,t[1]),Ye().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=q,s=Ye();if(W){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),se===null)throw Error(j(349));nr&30||ld(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ru(cd.bind(null,n,i,t),[t]),n.flags|=2048,zn(9,ud.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ye(),e=se.identifierPrefix;if(W){var r=at,n=ot;r=(n&~(1<<32-qe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Un++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pp={readContext:De,useCallback:vd,useContext:De,useEffect:Qa,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:Zi,useRef:fd,useState:function(){return Zi(Mn)},useDebugValue:Ga,useDeferredValue:function(t){var e=Ue();return xd(e,Z.memoizedState,t)},useTransition:function(){var t=Zi(Mn)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1},Rp={readContext:De,useCallback:vd,useContext:De,useEffect:Qa,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:eo,useRef:fd,useState:function(){return eo(Mn)},useDebugValue:Ga,useDeferredValue:function(t){var e=Ue();return Z===null?e.memoizedState=t:xd(e,Z.memoizedState,t)},useTransition:function(){var t=eo(Mn)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=K({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ho(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:K({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yi={isMounted:function(t){return(t=t._reactInternals)?ar(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pe(),s=Ot(t),i=lt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Ke(e,t,s,n),Ts(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pe(),s=Ot(t),i=lt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Ke(e,t,s,n),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pe(),n=Ot(t),s=lt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Pt(t,s,n),e!==null&&(Ke(e,t,n,r),Ts(e,t,n))}};function nu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!On(r,n)||!On(s,i):!0}function bd(t,e,r){var n=!1,s=Lt,i=e.contextType;return typeof i=="object"&&i!==null?i=De(i):(s=je(e)?tr:he.current,n=e.contextTypes,i=(n=n!=null)?Lr(t,s):Lt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function su(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Wo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=De(i):(i=je(e)?tr:he.current,s.context=Lr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ho(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Js(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var r="",n=e;do r+=sf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function to(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Op=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,r){r=lt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ti||(ti=!0,ta=n),Vo(t,e)},r}function Ed(t,e,r){r=lt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Vo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vo(t,e),typeof n!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function iu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Op;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qp.bind(null,t,e,r),e.then(t,t))}function ou(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lt(-1,1),e.tag=2,Pt(r,e,1))),r.lanes|=1),t)}var $p=ft.ReactCurrentOwner,ke=!1;function fe(t,e,r,n){e.child=t===null?rd(e,null,r,n):Ur(e,t.child,r,n)}function lu(t,e,r,n,s){r=r.render;var i=e.ref;return $r(e,s),n=qa(t,e,r,n,i,s),r=Ka(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(W&&r&&Ia(e),e.flags|=1,fe(t,e,n,s),e.child)}function uu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!nl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Td(t,e,i,n,s)):(t=Is(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:On,r(o,n)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=$t(i,n),t.ref=e.ref,t.return=e,e.child=t}function Td(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(On(i,n)&&t.ref===e.ref)if(ke=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,ht(t,e,s)}return qo(t,e,r,n,s)}function Cd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Er,Ne),Ne|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(Er,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F(Er,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,F(Er,Ne),Ne|=n;return fe(t,e,s,r),e.child}function Pd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qo(t,e,r,n,s){var i=je(r)?tr:he.current;return i=Lr(e,i),$r(e,s),r=qa(t,e,r,n,i,s),n=Ka(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(W&&n&&Ia(e),e.flags|=1,fe(t,e,r,s),e.child)}function cu(t,e,r,n,s){if(je(r)){var i=!0;Vs(e)}else i=!1;if($r(e,s),e.stateNode===null)Rs(t,e),bd(e,r,n),Wo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=De(c):(c=je(r)?tr:he.current,c=Lr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&su(e,o,n,c),vt=!1;var f=e.memoizedState;o.state=f,Js(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Se.current||vt?(typeof d=="function"&&(Ho(e,r,d,n),l=e.memoizedState),(a=vt||nu(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Be(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=De(l):(l=je(r)?tr:he.current,l=Lr(e,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&su(e,o,n,l),vt=!1,f=e.memoizedState,o.state=f,Js(e,n,o,s);var x=e.memoizedState;a!==h||f!==x||Se.current||vt?(typeof y=="function"&&(Ho(e,r,y,n),x=e.memoizedState),(c=vt||nu(e,r,c,n,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ko(t,e,r,n,i,s)}function Ko(t,e,r,n,s,i){Pd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gl(e,r,!1),ht(t,e,i);n=e.stateNode,$p.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ur(e,t.child,null,i),e.child=Ur(e,null,a,i)):fe(t,e,a,i),e.memoizedState=n.state,s&&Gl(e,r,!0),e.child}function Rd(t){var e=t.stateNode;e.pendingContext?Ql(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ql(t,e.context,!1),Ba(t,e.containerInfo)}function du(t,e,r,n,s){return Dr(),La(s),e.flags|=256,fe(t,e,r,n),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Od(t,e,r){var n=e.pendingProps,s=V.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(V,s&1),t===null)return Fo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,n,0,null),t=er(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Go(r),e.memoizedState=Qo,t):Ja(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ip(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$t(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$t(a,i):(i=er(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Go(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Qo,n}return i=t.child,t=i.sibling,n=$t(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ja(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fs(t,e,r,n){return n!==null&&La(n),Ur(e,t.child,null,r),t=Ja(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ip(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=to(Error(j(422))),fs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=xi({mode:"visible",children:n.children},s,0,null),i=er(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ur(e,t.child,null,o),e.child.memoizedState=Go(o),e.memoizedState=Qo,i);if(!(e.mode&1))return fs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=to(i,n,void 0),fs(t,e,o,n)}if(a=(o&t.childLanes)!==0,ke||a){if(n=se,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),Ke(n,t,s,-1))}return rl(),n=to(Error(j(421))),fs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ee=Ct(s.nextSibling),Te=e,W=!0,Ve=null,t!==null&&(Oe[$e++]=ot,Oe[$e++]=at,Oe[$e++]=rr,ot=t.id,at=t.overflow,rr=e),e=Ja(e,n.children),e.flags|=4096,e)}function hu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Bo(t.return,e,r)}function ro(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $d(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(fe(t,e,n.children,r),n=V.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hu(t,r,e);else if(t.tag===19)hu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(F(V,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ys(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ro(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ys(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ro(e,!0,r,null,i);break;case"together":ro(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),sr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=$t(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$t(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ap(t,e,r){switch(e.tag){case 3:Rd(e),Dr();break;case 5:id(e);break;case 1:je(e.type)&&Vs(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;F(Qs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(F(V,V.current&1),e.flags|=128,null):r&e.child.childLanes?Od(t,e,r):(F(V,V.current&1),t=ht(t,e,r),t!==null?t.sibling:null);F(V,V.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return $d(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(V,V.current),n)break;return null;case 22:case 23:return e.lanes=0,Cd(t,e,r)}return ht(t,e,r)}var Id,Jo,Ad,Ld;Id=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jo=function(){};Ad=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Yt(tt.current);var i=null;switch(r){case"input":s=vo(t,s),n=vo(t,n),i=[];break;case"select":s=K({},s,{value:void 0}),n=K({},n,{value:void 0}),i=[];break;case"textarea":s=_o(t,s),n=_o(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hs)}So(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&B("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ld=function(t,e,r,n){r!==n&&(e.flags|=4)};function nn(t,e){if(!W)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lp(t,e,r){var n=e.pendingProps;switch(Aa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(e),null;case 1:return je(e.type)&&Ws(),ue(e),null;case 3:return n=e.stateNode,Mr(),H(Se),H(he),Wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(sa(Ve),Ve=null))),Jo(t,e),ue(e),null;case 5:Ha(e);var s=Yt(Dn.current);if(r=e.type,t!==null&&e.stateNode!=null)Ad(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return ue(e),null}if(t=Yt(tt.current),ds(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ze]=e,n[An]=i,t=(e.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(s=0;s<cn.length;s++)B(cn[s],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":_l(n,i),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},B("invalid",n);break;case"textarea":Sl(n,i),B("invalid",n)}So(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&cs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cs(n.textContent,a,t),s=["children",""+a]):bn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&B("scroll",n)}switch(r){case"input":rs(n),kl(n,i,!0);break;case"textarea":rs(n),jl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ze]=e,t[An]=n,Id(t,e,!1,!1),e.stateNode=t;e:{switch(o=jo(r,n),r){case"dialog":B("cancel",t),B("close",t),s=n;break;case"iframe":case"object":case"embed":B("load",t),s=n;break;case"video":case"audio":for(s=0;s<cn.length;s++)B(cn[s],t);s=n;break;case"source":B("error",t),s=n;break;case"img":case"image":case"link":B("error",t),B("load",t),s=n;break;case"details":B("toggle",t),s=n;break;case"input":_l(t,n),s=vo(t,n),B("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=K({},n,{value:void 0}),B("invalid",t);break;case"textarea":Sl(t,n),s=_o(t,n),B("invalid",t);break;default:s=n}So(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?fc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nn(t,l):typeof l=="number"&&Nn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&B("scroll",t):l!=null&&xa(t,i,l,o))}switch(r){case"input":rs(t),kl(t,n,!1);break;case"textarea":rs(t),jl(t);break;case"option":n.value!=null&&t.setAttribute("value",""+At(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Cr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Cr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ue(e),null;case 6:if(t&&e.stateNode!=null)Ld(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=Yt(Dn.current),Yt(tt.current),ds(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ze]=e,(i=n.nodeValue!==r)&&(t=Te,t!==null))switch(t.tag){case 3:cs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ze]=e,e.stateNode=n}return ue(e),null;case 13:if(H(V),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(W&&Ee!==null&&e.mode&1&&!(e.flags&128))ed(),Dr(),e.flags|=98560,i=!1;else if(i=ds(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Ze]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ue(e),i=!1}else Ve!==null&&(sa(Ve),Ve=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||V.current&1?ee===0&&(ee=3):rl())),e.updateQueue!==null&&(e.flags|=4),ue(e),null);case 4:return Mr(),Jo(t,e),t===null&&$n(e.stateNode.containerInfo),ue(e),null;case 10:return Ma(e.type._context),ue(e),null;case 17:return je(e.type)&&Ws(),ue(e),null;case 19:if(H(V),i=e.memoizedState,i===null)return ue(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)nn(i,!1);else{if(ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ys(t),o!==null){for(e.flags|=128,nn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return F(V,V.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Fr&&(e.flags|=128,n=!0,nn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ys(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),nn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return ue(e),null}else 2*Y()-i.renderingStartTime>Fr&&r!==1073741824&&(e.flags|=128,n=!0,nn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,r=V.current,F(V,n?r&1|2:r&1),e):(ue(e),null);case 22:case 23:return tl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(ue(e),e.subtreeFlags&6&&(e.flags|=8192)):ue(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Dp(t,e){switch(Aa(e),e.tag){case 1:return je(e.type)&&Ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mr(),H(Se),H(he),Wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(H(V),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(V),null;case 4:return Mr(),null;case 10:return Ma(e.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var ps=!1,de=!1,Up=typeof WeakSet=="function"?WeakSet:Set,E=null;function Nr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function Yo(t,e,r){try{r()}catch(n){Q(t,e,n)}}var fu=!1;function Mp(t,e){if(Io=zs,t=Fc(),$a(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ao={focusedElem:t,selectionRange:r},zs=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Be(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(v){Q(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return x=fu,fu=!1,x}function vn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(e,r,i)}s=s.next}while(s!==n)}}function vi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ze],delete e[An],delete e[Uo],delete e[_p],delete e[kp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ud(t){return t.tag===5||t.tag===3||t.tag===4}function pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hs));else if(n!==4&&(t=t.child,t!==null))for(Zo(t,e,r),t=t.sibling;t!==null;)Zo(t,e,r),t=t.sibling}function ea(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ea(t,e,r),t=t.sibling;t!==null;)ea(t,e,r),t=t.sibling}var ie=null,He=!1;function mt(t,e,r){for(r=r.child;r!==null;)Md(t,e,r),r=r.sibling}function Md(t,e,r){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(ci,r)}catch{}switch(r.tag){case 5:de||Nr(r,e);case 6:var n=ie,s=He;ie=null,mt(t,e,r),ie=n,He=s,ie!==null&&(He?(t=ie,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ie.removeChild(r.stateNode));break;case 18:ie!==null&&(He?(t=ie,r=r.stateNode,t.nodeType===8?Gi(t.parentNode,r):t.nodeType===1&&Gi(t,r),Pn(t)):Gi(ie,r.stateNode));break;case 4:n=ie,s=He,ie=r.stateNode.containerInfo,He=!0,mt(t,e,r),ie=n,He=s;break;case 0:case 11:case 14:case 15:if(!de&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(r,e,o),s=s.next}while(s!==n)}mt(t,e,r);break;case 1:if(!de&&(Nr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Q(r,e,a)}mt(t,e,r);break;case 21:mt(t,e,r);break;case 22:r.mode&1?(de=(n=de)||r.memoizedState!==null,mt(t,e,r),de=n):mt(t,e,r);break;default:mt(t,e,r)}}function mu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Up),e.forEach(function(n){var s=Qp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ze(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ie=a.stateNode,He=!1;break e;case 3:ie=a.stateNode.containerInfo,He=!0;break e;case 4:ie=a.stateNode.containerInfo,He=!0;break e}a=a.return}if(ie===null)throw Error(j(160));Md(i,o,s),ie=null,He=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Q(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zd(e,t),e=e.sibling}function zd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),Ge(t),n&4){try{vn(3,t,t.return),vi(3,t)}catch(w){Q(t,t.return,w)}try{vn(5,t,t.return)}catch(w){Q(t,t.return,w)}}break;case 1:ze(e,t),Ge(t),n&512&&r!==null&&Nr(r,r.return);break;case 5:if(ze(e,t),Ge(t),n&512&&r!==null&&Nr(r,r.return),t.flags&32){var s=t.stateNode;try{Nn(s,"")}catch(w){Q(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lc(s,i),jo(a,o);var c=jo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?fc(s,h):d==="dangerouslySetInnerHTML"?dc(s,h):d==="children"?Nn(s,h):xa(s,d,h,c)}switch(a){case"input":wo(s,i);break;case"textarea":uc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Cr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(s,!!i.multiple,i.defaultValue,!0):Cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[An]=i}catch(w){Q(t,t.return,w)}}break;case 6:if(ze(e,t),Ge(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Q(t,t.return,w)}}break;case 3:if(ze(e,t),Ge(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(e.containerInfo)}catch(w){Q(t,t.return,w)}break;case 4:ze(e,t),Ge(t);break;case 13:ze(e,t),Ge(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=Y())),n&4&&mu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(de=(c=de)||d,ze(e,t),de=c):ze(e,t),Ge(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(h=E=d;E!==null;){switch(f=E,y=f.child,f.tag){case 0:case 11:case 14:case 15:vn(4,f,f.return);break;case 1:Nr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Q(n,r,w)}}break;case 5:Nr(f,f.return);break;case 22:if(f.memoizedState!==null){yu(h);continue}}y!==null?(y.return=f,E=y):yu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hc("display",o))}catch(w){Q(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Q(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(e,t),Ge(t),n&4&&mu(t);break;case 21:break;default:ze(e,t),Ge(t)}}function Ge(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ud(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Nn(s,""),n.flags&=-33);var i=pu(t);ea(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=pu(t);Zo(t,a,o);break;default:throw Error(j(161))}}catch(l){Q(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zp(t,e,r){E=t,Fd(t)}function Fd(t,e,r){for(var n=(t.mode&1)!==0;E!==null;){var s=E,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ps;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||de;a=ps;var c=de;if(ps=o,(de=l)&&!c)for(E=s;E!==null;)o=E,l=o.child,o.tag===22&&o.memoizedState!==null?vu(s):l!==null?(l.return=o,E=l):vu(s);for(;i!==null;)E=i,Fd(i),i=i.sibling;E=s,ps=a,de=c}gu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,E=i):gu(t)}}function gu(t){for(;E!==null;){var e=E;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||vi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!de)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Be(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&eu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}eu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}de||e.flags&512&&Xo(e)}catch(f){Q(e,e.return,f)}}if(e===t){E=null;break}if(r=e.sibling,r!==null){r.return=e.return,E=r;break}E=e.return}}function yu(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var r=e.sibling;if(r!==null){r.return=e.return,E=r;break}E=e.return}}function vu(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{vi(4,e)}catch(l){Q(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Q(e,s,l)}}var i=e.return;try{Xo(e)}catch(l){Q(e,i,l)}break;case 5:var o=e.return;try{Xo(e)}catch(l){Q(e,o,l)}}}catch(l){Q(e,e.return,l)}if(e===t){E=null;break}var a=e.sibling;if(a!==null){a.return=e.return,E=a;break}E=e.return}}var Fp=Math.ceil,ei=ft.ReactCurrentDispatcher,Ya=ft.ReactCurrentOwner,Ae=ft.ReactCurrentBatchConfig,D=0,se=null,X=null,oe=0,Ne=0,Er=Ut(0),ee=0,Fn=null,sr=0,wi=0,Xa=0,wn=null,xe=null,Za=0,Fr=1/0,nt=null,ti=!1,ta=null,Rt=null,ms=!1,jt=null,ri=0,xn=0,ra=null,Os=-1,$s=0;function pe(){return D&6?Y():Os!==-1?Os:Os=Y()}function Ot(t){return t.mode&1?D&2&&oe!==0?oe&-oe:jp.transition!==null?($s===0&&($s=bc()),$s):(t=U,t!==0||(t=window.event,t=t===void 0?16:Oc(t.type)),t):1}function Ke(t,e,r,n){if(50<xn)throw xn=0,ra=null,Error(j(185));Wn(t,r,n),(!(D&2)||t!==se)&&(t===se&&(!(D&2)&&(wi|=r),ee===4&&_t(t,oe)),be(t,n),r===1&&D===0&&!(e.mode&1)&&(Fr=Y()+500,mi&&Mt()))}function be(t,e){var r=t.callbackNode;jf(t,e);var n=Ms(t,t===se?oe:0);if(n===0)r!==null&&El(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&El(r),e===1)t.tag===0?Sp(wu.bind(null,t)):Yc(wu.bind(null,t)),wp(function(){!(D&6)&&Mt()}),r=null;else{switch(Nc(n)){case 1:r=ba;break;case 4:r=Sc;break;case 16:r=Us;break;case 536870912:r=jc;break;default:r=Us}r=Gd(r,Bd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Bd(t,e){if(Os=-1,$s=0,D&6)throw Error(j(327));var r=t.callbackNode;if(Ir()&&t.callbackNode!==r)return null;var n=Ms(t,t===se?oe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ni(t,n);else{e=n;var s=D;D|=2;var i=Wd();(se!==t||oe!==e)&&(nt=null,Fr=Y()+500,Zt(t,e));do try{Wp();break}catch(a){Hd(t,a)}while(1);Ua(),ei.current=i,D=s,X!==null?e=0:(se=null,oe=0,e=ee)}if(e!==0){if(e===2&&(s=Co(t),s!==0&&(n=s,e=na(t,s))),e===1)throw r=Fn,Zt(t,0),_t(t,n),be(t,Y()),r;if(e===6)_t(t,n);else{if(s=t.current.alternate,!(n&30)&&!Bp(s)&&(e=ni(t,n),e===2&&(i=Co(t),i!==0&&(n=i,e=na(t,i))),e===1))throw r=Fn,Zt(t,0),_t(t,n),be(t,Y()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Vt(t,xe,nt);break;case 3:if(_t(t,n),(n&130023424)===n&&(e=Za+500-Y(),10<e)){if(Ms(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){pe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(Vt.bind(null,t,xe,nt),e);break}Vt(t,xe,nt);break;case 4:if(_t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-qe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fp(n/1960))-n,10<n){t.timeoutHandle=Do(Vt.bind(null,t,xe,nt),n);break}Vt(t,xe,nt);break;case 5:Vt(t,xe,nt);break;default:throw Error(j(329))}}}return be(t,Y()),t.callbackNode===r?Bd.bind(null,t):null}function na(t,e){var r=wn;return t.current.memoizedState.isDehydrated&&(Zt(t,e).flags|=256),t=ni(t,e),t!==2&&(e=xe,xe=r,e!==null&&sa(e)),t}function sa(t){xe===null?xe=t:xe.push.apply(xe,t)}function Bp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Xa,e&=~wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qe(e),n=1<<r;t[r]=-1,e&=~n}}function wu(t){if(D&6)throw Error(j(327));Ir();var e=Ms(t,0);if(!(e&1))return be(t,Y()),null;var r=ni(t,e);if(t.tag!==0&&r===2){var n=Co(t);n!==0&&(e=n,r=na(t,n))}if(r===1)throw r=Fn,Zt(t,0),_t(t,e),be(t,Y()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t,xe,nt),be(t,Y()),null}function el(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Fr=Y()+500,mi&&Mt())}}function ir(t){jt!==null&&jt.tag===0&&!(D&6)&&Ir();var e=D;D|=1;var r=Ae.transition,n=U;try{if(Ae.transition=null,U=1,t)return t()}finally{U=n,Ae.transition=r,D=e,!(D&6)&&Mt()}}function tl(){Ne=Er.current,H(Er)}function Zt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vp(r)),X!==null)for(r=X.return;r!==null;){var n=r;switch(Aa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Mr(),H(Se),H(he),Wa();break;case 5:Ha(n);break;case 4:Mr();break;case 13:H(V);break;case 19:H(V);break;case 10:Ma(n.type._context);break;case 22:case 23:tl()}r=r.return}if(se=t,X=t=$t(t.current,null),oe=Ne=e,ee=0,Fn=null,Xa=wi=sr=0,xe=wn=null,Jt!==null){for(e=0;e<Jt.length;e++)if(r=Jt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Jt=null}return t}function Hd(t,e){do{var r=X;try{if(Ua(),Cs.current=Zs,Xs){for(var n=q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xs=!1}if(nr=0,ne=Z=q=null,yn=!1,Un=0,Ya.current=null,r===null||r.return===null){ee=1,Fn=e,X=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ou(o);if(y!==null){y.flags&=-257,au(y,o,a,i,e),y.mode&1&&iu(i,c,e),e=y,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){iu(i,c,e),rl();break e}l=Error(j(426))}}else if(W&&a.mode&1){var b=ou(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),au(b,o,a,i,e),La(zr(l,a));break e}}i=l=zr(l,a),ee!==4&&(ee=2),wn===null?wn=[i]:wn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Nd(i,l,e);Zl(i,g);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rt===null||!Rt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Ed(i,a,e);Zl(i,v);break e}}i=i.return}while(i!==null)}qd(r)}catch(k){e=k,X===r&&r!==null&&(X=r=r.return);continue}break}while(1)}function Wd(){var t=ei.current;return ei.current=Zs,t===null?Zs:t}function rl(){(ee===0||ee===3||ee===2)&&(ee=4),se===null||!(sr&268435455)&&!(wi&268435455)||_t(se,oe)}function ni(t,e){var r=D;D|=2;var n=Wd();(se!==t||oe!==e)&&(nt=null,Zt(t,e));do try{Hp();break}catch(s){Hd(t,s)}while(1);if(Ua(),D=r,ei.current=n,X!==null)throw Error(j(261));return se=null,oe=0,ee}function Hp(){for(;X!==null;)Vd(X)}function Wp(){for(;X!==null&&!mf();)Vd(X)}function Vd(t){var e=Qd(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?qd(t):X=e,Ya.current=null}function qd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Dp(r,e),r!==null){r.flags&=32767,X=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ee=6,X=null;return}}else if(r=Lp(r,e,Ne),r!==null){X=r;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);ee===0&&(ee=5)}function Vt(t,e,r){var n=U,s=Ae.transition;try{Ae.transition=null,U=1,Vp(t,e,r,n)}finally{Ae.transition=s,U=n}return null}function Vp(t,e,r,n){do Ir();while(jt!==null);if(D&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bf(t,i),t===se&&(X=se=null,oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,Gd(Us,function(){return Ir(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ae.transition,Ae.transition=null;var o=U;U=1;var a=D;D|=4,Ya.current=null,Mp(t,r),zd(r,t),dp(Ao),zs=!!Io,Ao=Io=null,t.current=r,zp(r),gf(),D=a,U=o,Ae.transition=i}else t.current=r;if(ms&&(ms=!1,jt=t,ri=s),i=t.pendingLanes,i===0&&(Rt=null),wf(r.stateNode),be(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,t=ta,ta=null,t;return ri&1&&t.tag!==0&&Ir(),i=t.pendingLanes,i&1?t===ra?xn++:(xn=0,ra=t):xn=0,Mt(),null}function Ir(){if(jt!==null){var t=Nc(ri),e=Ae.transition,r=U;try{if(Ae.transition=null,U=16>t?16:t,jt===null)var n=!1;else{if(t=jt,jt=null,ri=0,D&6)throw Error(j(331));var s=D;for(D|=4,E=t.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(E=c;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:vn(8,d,i)}var h=d.child;if(h!==null)h.return=d,E=h;else for(;E!==null;){d=E;var f=d.sibling,y=d.return;if(Dd(d),d===c){E=null;break}if(f!==null){f.return=y,E=f;break}E=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,E=g;break e}E=i.return}}var p=t.current;for(E=p;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=p;E!==null;){if(a=E,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vi(9,a)}}catch(k){Q(a,a.return,k)}if(a===o){E=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,E=v;break e}E=a.return}}if(D=s,Mt(),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(ci,t)}catch{}n=!0}return n}finally{U=r,Ae.transition=e}}return!1}function xu(t,e,r){e=zr(r,e),e=Nd(t,e,1),t=Pt(t,e,1),e=pe(),t!==null&&(Wn(t,1,e),be(t,e))}function Q(t,e,r){if(t.tag===3)xu(t,t,r);else for(;e!==null;){if(e.tag===3){xu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rt===null||!Rt.has(n))){t=zr(r,t),t=Ed(e,t,1),e=Pt(e,t,1),t=pe(),e!==null&&(Wn(e,1,t),be(e,t));break}}e=e.return}}function qp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pe(),t.pingedLanes|=t.suspendedLanes&r,se===t&&(oe&r)===r&&(ee===4||ee===3&&(oe&130023424)===oe&&500>Y()-Za?Zt(t,0):Xa|=r),be(t,e)}function Kd(t,e){e===0&&(t.mode&1?(e=is,is<<=1,!(is&130023424)&&(is=4194304)):e=1);var r=pe();t=dt(t,e),t!==null&&(Wn(t,e,r),be(t,r))}function Kp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Kd(t,r)}function Qp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),Kd(t,r)}var Qd;Qd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)ke=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ke=!1,Ap(t,e,r);ke=!!(t.flags&131072)}else ke=!1,W&&e.flags&1048576&&Xc(e,Ks,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rs(t,e),t=e.pendingProps;var s=Lr(e,he.current);$r(e,r),s=qa(null,e,n,t,s,r);var i=Ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(n)?(i=!0,Vs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fa(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,Wo(e,n,t,r),e=Ko(null,e,n,!0,i,r)):(e.tag=0,W&&i&&Ia(e),fe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Jp(n),t=Be(n,t),s){case 0:e=qo(null,e,n,t,r);break e;case 1:e=cu(null,e,n,t,r);break e;case 11:e=lu(null,e,n,t,r);break e;case 14:e=uu(null,e,n,Be(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),qo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),cu(t,e,n,s,r);case 3:e:{if(Rd(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,sd(t,e),Js(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zr(Error(j(423)),e),e=du(t,e,n,r,s);break e}else if(n!==s){s=zr(Error(j(424)),e),e=du(t,e,n,r,s);break e}else for(Ee=Ct(e.stateNode.containerInfo.firstChild),Te=e,W=!0,Ve=null,r=rd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dr(),n===s){e=ht(t,e,r);break e}fe(t,e,n,r)}e=e.child}return e;case 5:return id(e),t===null&&Fo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lo(n,s)?o=null:i!==null&&Lo(n,i)&&(e.flags|=32),Pd(t,e),fe(t,e,o,r),e.child;case 6:return t===null&&Fo(e),null;case 13:return Od(t,e,r);case 4:return Ba(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ur(e,null,n,r):fe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),lu(t,e,n,s,r);case 7:return fe(t,e,e.pendingProps,r),e.child;case 8:return fe(t,e,e.pendingProps.children,r),e.child;case 12:return fe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(Qs,n._currentValue),n._currentValue=o,i!==null)if(Qe(i.value,o)){if(i.children===s.children&&!Se.current){e=ht(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=lt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Bo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Bo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,$r(e,r),s=De(s),n=n(s),e.flags|=1,fe(t,e,n,r),e.child;case 14:return n=e.type,s=Be(n,e.pendingProps),s=Be(n.type,s),uu(t,e,n,s,r);case 15:return Td(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Be(n,s),Rs(t,e),e.tag=1,je(n)?(t=!0,Vs(e)):t=!1,$r(e,r),bd(e,n,s),Wo(e,n,s,r),Ko(null,e,n,!0,t,r);case 19:return $d(t,e,r);case 22:return Cd(t,e,r)}throw Error(j(156,e.tag))};function Gd(t,e){return kc(t,e)}function Gp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,r,n){return new Gp(t,e,r,n)}function nl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jp(t){if(typeof t=="function")return nl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ka)return 11;if(t===Sa)return 14}return 2}function $t(t,e){var r=t.alternate;return r===null?(r=Ie(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Is(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")nl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yr:return er(r.children,s,i,e);case _a:o=8,s|=8;break;case po:return t=Ie(12,r,e,s|2),t.elementType=po,t.lanes=i,t;case mo:return t=Ie(13,r,e,s),t.elementType=mo,t.lanes=i,t;case go:return t=Ie(19,r,e,s),t.elementType=go,t.lanes=i,t;case ic:return xi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nc:o=10;break e;case sc:o=9;break e;case ka:o=11;break e;case Sa:o=14;break e;case yt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ie(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function er(t,e,r,n){return t=Ie(7,t,n,e),t.lanes=r,t}function xi(t,e,r,n){return t=Ie(22,t,n,e),t.elementType=ic,t.lanes=r,t.stateNode={isHidden:!1},t}function no(t,e,r){return t=Ie(6,t,null,e),t.lanes=r,t}function so(t,e,r){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sl(t,e,r,n,s,i,o,a,l){return t=new Yp(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(i),t}function Xp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Jd(t){if(!t)return Lt;t=t._reactInternals;e:{if(ar(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(je(r))return Jc(t,r,e)}return e}function Yd(t,e,r,n,s,i,o,a,l){return t=sl(r,n,!0,t,s,i,o,a,l),t.context=Jd(null),r=t.current,n=pe(),s=Ot(r),i=lt(n,s),i.callback=e??null,Pt(r,i,s),t.current.lanes=s,Wn(t,s,n),be(t,n),t}function _i(t,e,r,n){var s=e.current,i=pe(),o=Ot(s);return r=Jd(r),e.context===null?e.context=r:e.pendingContext=r,e=lt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pt(s,e,o),t!==null&&(Ke(t,s,o,i),Ts(t,s,o)),o}function si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _u(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function il(t,e){_u(t,e),(t=t.alternate)&&_u(t,e)}function Zp(){return null}var Xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ol(t){this._internalRoot=t}ki.prototype.render=ol.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));_i(t,e,null,null)};ki.prototype.unmount=ol.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ir(function(){_i(null,t,null,null)}),e[ct]=null}};function ki(t){this._internalRoot=t}ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xt.length&&e!==0&&e<xt[r].priority;r++);xt.splice(r,0,t),r===0&&Rc(t)}};function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ku(){}function em(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=si(o);i.call(c)}}var o=Yd(e,n,t,0,null,!1,!1,"",ku);return t._reactRootContainer=o,t[ct]=o.current,$n(t.nodeType===8?t.parentNode:t),ir(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=si(l);a.call(c)}}var l=sl(t,0,!1,null,null,!1,!1,"",ku);return t._reactRootContainer=l,t[ct]=l.current,$n(t.nodeType===8?t.parentNode:t),ir(function(){_i(e,l,r,n)}),l}function ji(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=si(o);a.call(l)}}_i(e,o,t,s)}else o=em(r,e,t,s,n);return si(o)}Ec=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=un(e.pendingLanes);r!==0&&(Na(e,r|1),be(e,Y()),!(D&6)&&(Fr=Y()+500,Mt()))}break;case 13:ir(function(){var n=dt(t,1);if(n!==null){var s=pe();Ke(n,t,1,s)}}),il(t,1)}};Ea=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var r=pe();Ke(e,t,134217728,r)}il(t,134217728)}};Tc=function(t){if(t.tag===13){var e=Ot(t),r=dt(t,e);if(r!==null){var n=pe();Ke(r,t,e,n)}il(t,e)}};Cc=function(){return U};Pc=function(t,e){var r=U;try{return U=t,e()}finally{U=r}};No=function(t,e,r){switch(e){case"input":if(wo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=pi(n);if(!s)throw Error(j(90));ac(n),wo(n,s)}}}break;case"textarea":uc(t,r);break;case"select":e=r.value,e!=null&&Cr(t,!!r.multiple,e,!1)}};gc=el;yc=ir;var tm={usingClientEntryPoint:!1,Events:[qn,_r,pi,pc,mc,el]},sn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rm={bundleType:sn.bundleType,version:sn.version,rendererPackageName:sn.rendererPackageName,rendererConfig:sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xc(t),t===null?null:t.stateNode},findFiberByHostInstance:sn.findFiberByHostInstance||Zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{ci=gs.inject(rm),et=gs}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;Pe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!al(e))throw Error(j(200));return Xp(t,e,null,r)};Pe.createRoot=function(t,e){if(!al(t))throw Error(j(299));var r=!1,n="",s=Xd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sl(t,1,!1,null,null,r,!1,n,s),t[ct]=e.current,$n(t.nodeType===8?t.parentNode:t),new ol(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=xc(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return ir(t)};Pe.hydrate=function(t,e,r){if(!Si(e))throw Error(j(200));return ji(null,t,e,!0,r)};Pe.hydrateRoot=function(t,e,r){if(!al(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Xd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yd(e,null,t,1,r??null,s,!1,i,o),t[ct]=e.current,$n(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ki(e)};Pe.render=function(t,e,r){if(!Si(e))throw Error(j(200));return ji(null,t,e,!1,r)};Pe.unmountComponentAtNode=function(t){if(!Si(t))throw Error(j(40));return t._reactRootContainer?(ir(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Pe.unstable_batchedUpdates=el;Pe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Si(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ji(t,e,r,!1,n)};Pe.version="18.3.1-next-f1338f8080-20240426";function Zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zd)}catch(t){console.error(t)}}Zd(),Zu.exports=Pe;var nm=Zu.exports,Su=nm;ho.createRoot=Su.createRoot,ho.hydrateRoot=Su.hydrateRoot;var sm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const im=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),om=(t,e)=>{const r=A.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>A.createElement("svg",{ref:c,...sm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${im(t)}`,...l},[...e.map(([d,h])=>A.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${t}`,r};var M=om;const ii=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cr=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),am=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Br=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),bt=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xt=M("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Kt=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),lm=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),um=M("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),eh=M("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),cm=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ll=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),dm=M("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),ul=M("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),ys=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),th=M("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),hm=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fm=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pm=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ju=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),mm=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),gm=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ym=M("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Tr=M("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),It=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),oi=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),vm=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function ia({className:t=""}){const[e,r]=A.useState([]),[n,s]=A.useState(!0),[i,o]=A.useState(null),[a,l]=A.useState(""),[c,d]=A.useState(!1);A.useEffect(()=>{h()},[]);const h=async()=>{s(!0),o(null);try{const w=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let b;w?b="/reddit-api/r/NeighborNudge/hot.json?limit=20":b="https://www.reddit.com/r/NeighborNudge/hot.json?limit=20";const g=await fetch(b);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const p=await g.json();if(!p.data||!p.data.children)throw new Error("Invalid response format from Reddit API");const m=p.data.children.map(v=>({id:v.data.id,title:v.data.title,author:v.data.author,score:v.data.score,num_comments:v.data.num_comments,created_utc:v.data.created_utc,url:v.data.url,selftext:v.data.selftext,permalink:v.data.permalink,subreddit:v.data.subreddit,flair_text:v.data.link_flair_text}));r(m)}catch(w){if(console.error("Error fetching Reddit posts:",w),window.location.hostname.includes("localhost"))o("Unable to load Reddit posts. This may be due to network connectivity or Reddit API limitations.");else{const b=[{id:"sample1",title:"[OFFER] Free grocery delivery for seniors in downtown area",author:"helpfulneighbor23",score:45,num_comments:12,created_utc:Date.now()/1e3-3600,url:"https://reddit.com/r/NeighborNudge",selftext:"I have a car and some free time this weekend. Happy to help seniors or anyone who needs grocery delivery in the downtown area. Just DM me!",permalink:"/r/NeighborNudge/comments/sample1/",subreddit:"NeighborNudge",flair_text:"Offer"},{id:"sample2",title:"[REQUEST] Looking for someone to walk my dog while I recover",author:"dogowner42",score:32,num_comments:8,created_utc:Date.now()/1e3-7200,url:"https://reddit.com/r/NeighborNudge",selftext:"I recently had surgery and need help walking my golden retriever for the next two weeks. He's very friendly and well-behaved.",permalink:"/r/NeighborNudge/comments/sample2/",subreddit:"NeighborNudge",flair_text:"Request"},{id:"sample3",title:"[SUCCESS] Thank you to everyone who helped with my move!",author:"gratefulrenter",score:78,num_comments:15,created_utc:Date.now()/1e3-10800,url:"https://reddit.com/r/NeighborNudge",selftext:"This community is amazing! Five neighbors showed up to help me move last weekend. The mutual aid network really works!",permalink:"/r/NeighborNudge/comments/sample3/",subreddit:"NeighborNudge",flair_text:"Success Story"},{id:"sample4",title:"[OFFER] Free tutoring for high school math and science",author:"teachervolunteer",score:56,num_comments:9,created_utc:Date.now()/1e3-14400,url:"https://reddit.com/r/NeighborNudge",selftext:"I'm a retired teacher and would love to help students with math and science. Available weekday evenings and weekends.",permalink:"/r/NeighborNudge/comments/sample4/",subreddit:"NeighborNudge",flair_text:"Offer"},{id:"sample5",title:"[COMMUNITY] Monthly NeighborNudge meetup this Saturday!",author:"communityleader",score:89,num_comments:23,created_utc:Date.now()/1e3-18e3,url:"https://reddit.com/r/NeighborNudge",selftext:"Join us at Central Park this Saturday at 2 PM for our monthly community meetup. Great chance to meet your neighbors and discuss local mutual aid initiatives!",permalink:"/r/NeighborNudge/comments/sample5/",subreddit:"NeighborNudge",flair_text:"Community Event"}];r(b),o("Live Reddit posts unavailable due to browser restrictions. Showing sample community posts.")}}finally{s(!1)}},f=async w=>{if(w.preventDefault(),!a.trim()){h();return}d(!0),o(null);try{const b=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let g;b?g=`/reddit-api/r/NeighborNudge/search.json?q=${encodeURIComponent(a)}&restrict_sr=1&limit=20`:g=`https://www.reddit.com/r/NeighborNudge/search.json?q=${encodeURIComponent(a)}&restrict_sr=1&limit=20`;const p=await fetch(g);if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const m=await p.json();if(!m.data||!m.data.children)throw new Error("Invalid response format from Reddit API");const v=m.data.children.map(k=>({id:k.data.id,title:k.data.title,author:k.data.author,score:k.data.score,num_comments:k.data.num_comments,created_utc:k.data.created_utc,url:k.data.url,selftext:k.data.selftext,permalink:k.data.permalink,subreddit:k.data.subreddit,flair_text:k.data.link_flair_text}));r(v)}catch(b){console.error("Error searching Reddit posts:",b),window.location.hostname.includes("localhost")?o("Unable to search Reddit posts. Please try again later."):o("Search unavailable in production due to browser restrictions. Visit r/NeighborNudge directly to search.")}finally{d(!1)}},y=w=>{const g=Date.now()/1e3-w;return g<3600?`${Math.floor(g/60)}m ago`:g<86400?`${Math.floor(g/3600)}h ago`:`${Math.floor(g/86400)}d ago`},x=(w,b=200)=>w.length<=b?w:w.substring(0,b)+"...";return n?u.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 border border-gray-100 ${t}`,children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[u.jsx(ys,{className:"h-5 w-5 text-orange-500"}),u.jsx("span",{children:"r/NeighborNudge Posts"})]}),u.jsx("div",{className:"space-y-4",children:[...Array(3)].map((w,b)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]},b))})]}):u.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 border border-gray-100 ${t}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center space-x-2",children:[u.jsx(ys,{className:"h-5 w-5 text-orange-500"}),u.jsx("span",{children:"r/NeighborNudge Posts"})]}),u.jsx("button",{onClick:h,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Refresh posts",children:u.jsx(fm,{className:"h-4 w-4"})})]}),u.jsx("form",{onSubmit:f,className:"mb-6",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(pm,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"Search posts in r/NeighborNudge...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),u.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",children:c?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Search"}),a&&u.jsx("button",{type:"button",onClick:()=>{l(""),h()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})}),i&&u.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(ii,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),u.jsx("p",{className:"text-orange-700 text-sm",children:i})]})}),e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:a?"No posts found for your search.":"No posts found in r/NeighborNudge."}),u.jsx("p",{className:"text-gray-400 text-sm mt-2",children:a?"Try a different search term.":"Be the first to post in the subreddit!"})]}):u.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:e.map(w=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight flex-1 mr-2",children:w.title}),u.jsx("a",{href:`https://reddit.com${w.permalink}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 flex-shrink-0",title:"View on Reddit",children:u.jsx(Xt,{className:"h-4 w-4"})})]}),w.flair_text&&u.jsx("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full mb-2",children:w.flair_text}),w.selftext&&u.jsx("p",{className:"text-gray-600 text-sm mb-3 leading-relaxed",children:x(w.selftext)}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(It,{className:"h-3 w-3"}),u.jsxs("span",{children:["u/",w.author]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(bt,{className:"h-3 w-3"}),u.jsx("span",{children:y(w.created_utc)})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ym,{className:"h-3 w-3"}),u.jsx("span",{children:w.score})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ys,{className:"h-3 w-3"}),u.jsx("span",{children:w.num_comments})]})]})]})]},w.id))}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:u.jsxs("a",{href:"https://reddit.com/r/NeighborNudge",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 text-sm font-medium flex items-center space-x-1",children:[u.jsx("span",{children:"Visit r/NeighborNudge"}),u.jsx(Xt,{className:"h-3 w-3"})]})})]})}function bu({onNavigate:t}){return u.jsxs("div",{className:"space-y-12",children:[u.jsx("section",{className:"text-center py-16 bg-gradient-to-r from-primary-500 to-accent-500 rounded-2xl text-white shadow-2xl",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Kt,{className:"h-16 w-16 text-white animate-pulse"}),u.jsx(mm,{className:"h-8 w-8 text-yellow-300 absolute -top-2 -right-2 animate-bounce"})]})}),u.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Welcome to NeighborNudge"}),u.jsx("p",{className:"text-xl mb-8 opacity-90 leading-relaxed",children:"Transform your community through the power of mutual aid. Small acts of kindness create ripples of positive change."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs("button",{onClick:()=>t("post"),className:"bg-white text-primary-600 px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg",children:[u.jsx(Kt,{className:"h-5 w-5"}),u.jsx("span",{children:"Offer Help"}),u.jsx(cr,{className:"h-5 w-5"})]}),u.jsxs("button",{onClick:()=>t("browse"),className:"bg-transparent border-2 border-white text-white px-8 py-4 rounded-xl font-semibold hover:bg-white hover:text-primary-600 transition-all duration-200 flex items-center justify-center space-x-2",children:[u.jsx(oi,{className:"h-5 w-5"}),u.jsx("span",{children:"Find Tasks"}),u.jsx(cr,{className:"h-5 w-5"})]})]})]})}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs("section",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:[u.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:u.jsx(Kt,{className:"h-8 w-8 text-primary-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Offer Help"}),u.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Share your skills and time with neighbors who need assistance. Every small act makes a difference."}),u.jsxs("button",{onClick:()=>t("post"),className:"text-primary-600 font-semibold hover:text-primary-700 flex items-center space-x-1",children:[u.jsx("span",{children:"Get Started"}),u.jsx(cr,{className:"h-4 w-4"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:[u.jsx("div",{className:"bg-accent-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:u.jsx(oi,{className:"h-8 w-8 text-accent-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Find Tasks"}),u.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Discover ways to help your community. Browse available tasks and make meaningful connections."}),u.jsxs("button",{onClick:()=>t("browse"),className:"text-accent-600 font-semibold hover:text-accent-700 flex items-center space-x-1",children:[u.jsx("span",{children:"Browse Now"}),u.jsx(cr,{className:"h-4 w-4"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:[u.jsx("div",{className:"bg-yellow-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:u.jsx(Tr,{className:"h-8 w-8 text-yellow-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Earn Recognition"}),u.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Build your reputation as a community helper. Earn Nudge Points and climb the leaderboard."}),u.jsxs("button",{onClick:()=>t("leaderboard"),className:"text-yellow-600 font-semibold hover:text-yellow-700 flex items-center space-x-1",children:[u.jsx("span",{children:"View Leaders"}),u.jsx(cr,{className:"h-4 w-4"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:[u.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:u.jsx(Kt,{className:"h-8 w-8 text-orange-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Join the Community"}),u.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Connect with like-minded neighbors on Reddit and share your mutual aid experiences."}),u.jsxs("a",{href:"https://reddit.com/r/NeighborNudge",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 font-semibold hover:text-orange-700 flex items-center space-x-1",children:[u.jsx("span",{children:"Visit r/NeighborNudge"}),u.jsx(cr,{className:"h-4 w-4"})]})]})]}),u.jsxs("section",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Community Impact"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"500+"}),u.jsx("div",{className:"text-gray-600",children:"Tasks Completed"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-accent-600 mb-2",children:"200+"}),u.jsx("div",{className:"text-gray-600",children:"Active Helpers"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"50+"}),u.jsx("div",{className:"text-gray-600",children:"Neighborhoods"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1000+"}),u.jsx("div",{className:"text-gray-600",children:"Lives Touched"})]})]})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx(ia,{})})]}),u.jsxs("section",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Make a Difference?"}),u.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Join thousands of neighbors who are building stronger, more connected communities."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:u.jsxs("button",{onClick:()=>t("post"),className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg",children:[u.jsx(Kt,{className:"h-5 w-5"}),u.jsx("span",{children:"Start Helping Today"})]})})]})]})}class wm{constructor(){Zn(this,"config");Zn(this,"accessToken",null);Zn(this,"tokenExpiry",null);this.config={clientId:"fc8neI8d7npdomIB4R1asw",clientSecret:"KQgcB4ISzQVauA8sYpZ-dfMxntWIsA",redirectUri:`${window.location.origin}/reddit-callback`,userAgent:"web:NeighborNudge:v1.0.0 (by /u/neighbornudge)"},this.loadStoredToken()}loadStoredToken(){const e=localStorage.getItem("reddit_access_token"),r=localStorage.getItem("reddit_token_expiry");if(e&&r){const n=parseInt(r);Date.now()<n?(this.accessToken=e,this.tokenExpiry=n):this.clearStoredToken()}}storeToken(e,r){const n=Date.now()+r*1e3-6e4;localStorage.setItem("reddit_access_token",e),localStorage.setItem("reddit_token_expiry",n.toString()),this.accessToken=e,this.tokenExpiry=n}clearStoredToken(){localStorage.removeItem("reddit_access_token"),localStorage.removeItem("reddit_token_expiry"),this.accessToken=null,this.tokenExpiry=null}isAuthenticated(){return this.accessToken!==null&&this.tokenExpiry!==null&&Date.now()<this.tokenExpiry}getAuthUrl(){return`https://www.reddit.com/api/v1/authorize?${new URLSearchParams({client_id:this.config.clientId,response_type:"code",state:Math.random().toString(36).substring(7),redirect_uri:this.config.redirectUri,duration:"temporary",scope:"submit"}).toString()}`}async handleAuthCallback(e){try{const r=await this.exchangeCodeForToken(e);return r.access_token?(this.storeToken(r.access_token,r.expires_in),!0):!1}catch(r){return console.error("Error handling auth callback:",r),!1}}async exchangeCodeForToken(e){const r=btoa(`${this.config.clientId}:${this.config.clientSecret}`),n=await fetch("/reddit-oauth/api/v1/access_token",{method:"POST",headers:{Authorization:`Basic ${r}`,"Content-Type":"application/x-www-form-urlencoded","User-Agent":this.config.userAgent},body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:this.config.redirectUri})});if(!n.ok)throw new Error(`Token exchange failed: ${n.status}`);return await n.json()}async submitPost(e,r,n="NeighborNudge"){var s,i,o;if(!this.isAuthenticated())return{success:!1,error:"Not authenticated with Reddit"};try{const a=await fetch("/reddit-oauth/api/submit",{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/x-www-form-urlencoded","User-Agent":this.config.userAgent},body:new URLSearchParams({api_type:"json",kind:"self",sr:n,title:e,text:r,resubmit:"true"})});if(!a.ok)throw new Error(`Submit failed: ${a.status}`);const l=await a.json();if(l.json.errors&&l.json.errors.length>0)return{success:!1,error:`Reddit API error: ${l.json.errors.map(c=>c.join(": ")).join(", ")}`};if((o=(i=(s=l.json.data)==null?void 0:s.things)==null?void 0:i[0])!=null&&o.data){const c=l.json.data.things[0].data;return{success:!0,postId:c.id,url:`https://reddit.com${c.url}`}}return{success:!1,error:"Unexpected response format from Reddit"}}catch(a){return console.error("Error submitting post:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}logout(){this.clearStoredToken()}generatePostContent(e){const r=`[OFFER] ${e.description} - ${e.location}`,n=`Hi r/NeighborNudge!

I'm offering to help with: **${e.description}**

 **Location:** ${e.location}
 **Posted by:** u/${e.proposer}
 **Contact:** ${e.contact_method}

This task was posted through NeighborNudge - a platform for community mutual aid. If you're interested in helping or need similar assistance, check out our app!

---
*This post was automatically generated from NeighborNudge. Join our community to find more ways to help your neighbors!*`;return{title:r,text:n}}}const Xe=new wm;function xm({onSubmit:t,currentUser:e,setCurrentUser:r,isConnected:n,isRedditAuthenticated:s}){const[i,o]=A.useState(""),[a,l]=A.useState(""),[c,d]=A.useState(""),[h,f]=A.useState(!1),[y,x]=A.useState(!1),[w,b]=A.useState(null),[g,p]=A.useState(!1),[m,v]=A.useState("idle"),[k,_]=A.useState(""),[S,N]=A.useState(""),$=async G=>{if(G.preventDefault(),!(!i.trim()||!a.trim()||!c.trim()||!e.trim())){f(!0),v("idle"),N("");try{const Me={description:i.trim(),location:a.trim(),contact_method:c.trim(),proposer:e.trim()},ve=await t(Me);if(ve){if(b(ve),g&&s){v("posting");try{const{title:Gr,text:Jr}=Xe.generatePostContent({description:ve.description,location:ve.location,proposer:ve.proposer,contact_method:ve.contact_method}),pt=await Xe.submitPost(Gr,Jr);pt.success&&pt.url?(v("success"),_(pt.url)):(v("error"),N(pt.error||"Failed to post to Reddit"))}catch(Gr){v("error"),N("An error occurred while posting to Reddit"),console.error("Reddit post error:",Gr)}}else x(!0);o(""),l(""),d("")}}catch(Me){console.error("Error submitting task:",Me)}finally{f(!1)}}},C=async()=>{if(w){v("posting");try{const{title:G,text:Me}=Xe.generatePostContent({description:w.description,location:w.location,proposer:w.proposer,contact_method:w.contact_method}),ve=await Xe.submitPost(G,Me);ve.success&&ve.url?(v("success"),_(ve.url)):(v("error"),N(ve.error||"Failed to post to Reddit"))}catch(G){v("error"),N("An error occurred while posting to Reddit"),console.error("Reddit post error:",G)}}},ye=()=>{x(!1),b(null),v("idle"),N(""),_("")};return(y||m!=="idle")&&w?u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Br,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task Posted Successfully!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your task has been added to NeighborNudge."}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Your Task:"}),u.jsx("p",{className:"text-gray-700 mb-2",children:w.description}),u.jsxs("p",{className:"text-sm text-gray-600",children:[" ",w.location]})]}),s?u.jsxs("div",{className:"space-y-4",children:[m==="posting"&&u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[u.jsx(eh,{className:"h-5 w-5 animate-spin"}),u.jsx("span",{children:"Posting to Reddit..."})]}),m==="success"&&k&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-green-800 mb-2",children:[u.jsx(Br,{className:"h-5 w-5"}),u.jsx("span",{className:"font-semibold",children:"Successfully posted to Reddit!"})]}),u.jsxs("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 flex items-center space-x-1",children:[u.jsx("span",{children:"View your post on r/NeighborNudge"}),u.jsx(Xt,{className:"h-4 w-4"})]})]}),m==="error"&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-red-800 mb-2",children:[u.jsx(ii,{className:"h-5 w-5"}),u.jsx("span",{className:"font-semibold",children:"Failed to post to Reddit"})]}),u.jsx("p",{className:"text-red-700 text-sm mb-3",children:S}),u.jsx("button",{onClick:C,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Try Again"})]}),m==="idle"&&y&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs("button",{onClick:C,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-orange-600 hover:to-orange-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[u.jsx(Xt,{className:"h-5 w-5"}),u.jsx("span",{children:"Post to r/NeighborNudge"})]}),u.jsx("button",{onClick:ye,className:"bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all duration-200",children:"Skip for Now"})]})]}):u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("p",{className:"text-orange-800 mb-3",children:"Connect your Reddit account to automatically post tasks to r/NeighborNudge"}),u.jsx("button",{onClick:()=>window.location.href=Xe.getAuthUrl(),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Connect Reddit Account"})]}),u.jsx("button",{onClick:ye,className:"mt-6 text-gray-500 hover:text-gray-700 text-sm",children:"Continue to Browse Tasks"})]})})}):u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center space-x-3",children:[u.jsx(ju,{className:"h-8 w-8 text-primary-500"}),u.jsx("span",{children:"Offer Help to Your Community"})]}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Share what you can offer to help your neighbors. Every act of kindness matters!"}),n===!1&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(ii,{className:"h-5 w-5 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-blue-900",children:"Database Connection Required"}),u.jsx("p",{className:"text-blue-700 text-sm mt-1",children:'To save tasks, you need to connect to Supabase. Click the "Connect to Supabase" button in the top right corner to set up your database connection.'})]})]})}),s&&u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Xt,{className:"h-5 w-5 text-orange-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-orange-900",children:"Reddit Integration"}),u.jsx("p",{className:"text-orange-700 text-sm mt-1 mb-3",children:"Automatically post your task to r/NeighborNudge to reach more people in your community."}),u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:G=>p(G.target.checked),className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),u.jsx("span",{className:"text-orange-800 text-sm",children:"Automatically post to Reddit"})]})]})]})}),u.jsxs("form",{onSubmit:$,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"currentUser",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(It,{className:"h-4 w-4 inline mr-1"}),"Your Reddit Username"]}),u.jsx("input",{type:"text",id:"currentUser",value:e,onChange:G=>r(G.target.value),placeholder:"Enter your Reddit username",maxLength:50,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",required:!0}),e&&u.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This username will be used across all sections of the app"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"What help can you offer?"}),u.jsx("textarea",{id:"description",value:i,onChange:G=>o(G.target.value),placeholder:"e.g., 'I can help with grocery shopping', 'Free tutoring for kids', 'Dog walking services'",maxLength:200,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors resize-none",required:!0}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.length,"/200 characters"]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(ll,{className:"h-4 w-4 inline mr-1"}),"Location/Area"]}),u.jsx("input",{type:"text",id:"location",value:a,onChange:G=>l(G.target.value),placeholder:"e.g., 'Downtown Seattle', 'Brooklyn Heights', 'Near Central Park'",maxLength:100,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"contactMethod",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(ul,{className:"h-4 w-4 inline mr-1"}),"How should people contact you?"]}),u.jsx("input",{type:"text",id:"contactMethod",value:c,onChange:G=>d(G.target.value),placeholder:"e.g., 'DM me on Reddit', 'Text me at...', 'Email me at...'",maxLength:100,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors",required:!0})]}),u.jsx("button",{type:"submit",disabled:h||n===!1,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold py-4 px-6 rounded-lg hover:from-primary-600 hover:to-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:h?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[u.jsx(ju,{className:"h-5 w-5"}),u.jsx("span",{children:"Post Your Offer"})]})})]}),!s&&u.jsx("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Xt,{className:"h-5 w-5 text-orange-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-orange-900",children:"Connect Reddit for Auto-Posting"}),u.jsx("p",{className:"text-orange-700 text-sm mt-1 mb-3",children:"Connect your Reddit account to automatically post tasks to r/NeighborNudge and reach more people in your community."}),u.jsx("button",{onClick:()=>window.location.href=Xe.getAuthUrl(),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Connect Reddit Account"})]})]})})]})})}function _m({tasks:t,loading:e,onClaimTask:r,currentUser:n,setCurrentUser:s,isConnected:i}){const[o,a]=A.useState("all"),l=t.filter(f=>o==="all"?!0:f.status===o),c=f=>{switch(f){case"open":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"completed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},d=f=>{switch(f){case"open":return u.jsx(bt,{className:"h-4 w-4"});case"in_progress":return u.jsx(th,{className:"h-4 w-4"});case"completed":return u.jsx(Br,{className:"h-4 w-4"});default:return u.jsx(bt,{className:"h-4 w-4"})}},h=f=>{if(!n.trim()){alert("Please enter your username first");return}r(f,n)};return e?u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Tasks"}),u.jsx("div",{className:"space-y-4",children:[...Array(3)].map((f,y)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},y))})]})}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx(ia,{})})]}):u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Browse Community Tasks"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Find ways to help your neighbors and make a positive impact in your community."}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(It,{className:"h-4 w-4 inline mr-1"}),"Your Reddit Username (required to claim tasks)"]}),u.jsx("input",{type:"text",id:"username",value:n,onChange:f=>s(f.target.value),placeholder:"Enter your Reddit username",className:"w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),n&&u.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This username is shared across all sections of the app"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All Tasks"},{key:"open",label:"Available"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"}].map(({key:f,label:y})=>u.jsx("button",{onClick:()=>a(f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${o===f?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y},f))})]}),i===!1&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(ii,{className:"h-6 w-6 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"No Database Connection"}),u.jsx("p",{className:"text-blue-700 mb-4",children:'To see and interact with tasks, you need to connect to Supabase. Click the "Connect to Supabase" button in the top right corner to set up your database connection.'}),u.jsx("p",{className:"text-blue-600 text-sm",children:"Once connected, tasks posted by community members will appear here."})]})]})}),i===!0&&l.length===0&&t.length>0?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100 text-center",children:[u.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No tasks found for the selected filter."})]}):i===!0&&t.length===0?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100 text-center",children:[u.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No tasks have been posted yet."}),u.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Be the first to post a task and help your community!"})]}):i===!0?u.jsx("div",{className:"space-y-4",children:l.map(f=>u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-900 font-medium mb-3 text-lg",children:f.description}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(It,{className:"h-4 w-4"}),u.jsxs("span",{children:["Posted by u/",f.proposer]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ll,{className:"h-4 w-4"}),u.jsx("span",{children:f.location})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ul,{className:"h-4 w-4"}),u.jsx("span",{children:f.contact_method})]}),f.claimer&&u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(It,{className:"h-4 w-4"}),u.jsxs("span",{children:["Claimed by u/",f.claimer]})]})]}),f.status==="open"&&n&&n!==f.proposer&&u.jsx("button",{onClick:()=>h(f.task_id),className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white px-6 py-2 rounded-lg font-medium hover:from-accent-600 hover:to-accent-700 transition-all duration-200",children:"Claim This Task"}),f.status==="open"&&n===f.proposer&&u.jsx("div",{className:"text-sm text-gray-500 italic",children:"This is your task - others can claim it"}),!n&&f.status==="open"&&u.jsx("div",{className:"text-sm text-gray-500 italic",children:"Enter your username above to claim tasks"})]}),u.jsx("div",{className:"ml-6 flex-shrink-0",children:u.jsxs("div",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${c(f.status)}`,children:[d(f.status),u.jsx("span",{className:"capitalize",children:f.status.replace("_"," ")})]})})]})},f.task_id))}):null]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx(ia,{})})]})}function km({tasks:t,loading:e,currentUser:r,setCurrentUser:n,onCompleteTask:s}){const[i,o]=A.useState("posted"),a=t.filter(y=>y.proposer===r),l=t.filter(y=>y.claimer===r),c=i==="posted"?a:l,d=y=>{switch(y){case"open":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"completed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},h=y=>{switch(y){case"open":return u.jsx(bt,{className:"h-4 w-4"});case"in_progress":return u.jsx(th,{className:"h-4 w-4"});case"completed":return u.jsx(Br,{className:"h-4 w-4"});default:return u.jsx(bt,{className:"h-4 w-4"})}},f=y=>{s(y,r)};return e?u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Tasks"}),u.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,x)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},x))})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"My Tasks"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Track the tasks you've posted and the ones you're helping with."}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(It,{className:"h-4 w-4 inline mr-1"}),"Your Reddit Username"]}),u.jsx("input",{type:"text",id:"username",value:r,onChange:y=>n(y.target.value),placeholder:"Enter your Reddit username to see your tasks",className:"w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>o("posted"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="posted"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Tasks I Posted (",a.length,")"]}),u.jsxs("button",{onClick:()=>o("claimed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="claimed"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Tasks I'm Helping With (",l.length,")"]})]})]}),r?c.length===0?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100 text-center",children:[u.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:i==="posted"?"You haven't posted any tasks yet.":"You haven't claimed any tasks yet."})]}):u.jsx("div",{className:"space-y-4",children:c.map(y=>u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-gray-900 font-medium mb-3 text-lg",children:y.description}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(It,{className:"h-4 w-4"}),u.jsxs("span",{children:["Posted by u/",y.proposer]})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ll,{className:"h-4 w-4"}),u.jsx("span",{children:y.location})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ul,{className:"h-4 w-4"}),u.jsx("span",{children:y.contact_method})]})]}),i==="claimed"&&y.status==="in_progress"&&u.jsx("button",{onClick:()=>f(y.task_id),className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-2 rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200",children:"Mark as Completed"})]}),u.jsx("div",{className:"ml-6 flex-shrink-0",children:u.jsxs("div",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${d(y.status)}`,children:[h(y.status),u.jsx("span",{className:"capitalize",children:y.status.replace("_"," ")})]})})]})},y.task_id))}):u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100 text-center",children:[u.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:"Please enter your username to see your tasks."})]})]})}function Sm({users:t,loading:e}){const r=s=>{switch(s){case 0:return u.jsx(Tr,{className:"h-6 w-6 text-yellow-500"});case 1:return u.jsx(dm,{className:"h-6 w-6 text-gray-400"});case 2:return u.jsx(am,{className:"h-6 w-6 text-amber-600"});default:return u.jsx(gm,{className:"h-6 w-6 text-primary-500"})}},n=s=>{switch(s){case 0:return"bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200";case 1:return"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200";case 2:return"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200";default:return"bg-gradient-to-r from-primary-50 to-primary-100 border-primary-200"}};return e?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[u.jsx(Tr,{className:"h-6 w-6 text-accent-500"}),u.jsx("span",{children:"Community Leaders"})]}),u.jsx("div",{className:"space-y-4",children:[...Array(5)].map((s,i)=>u.jsxs("div",{className:"animate-pulse flex items-center space-x-4 p-4",children:[u.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]},i))})]}):u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[u.jsx(Tr,{className:"h-6 w-6 text-accent-500"}),u.jsx("span",{children:"Community Leaders"})]}),t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No leaders yet!"}),u.jsx("p",{className:"text-gray-400",children:"Start helping your community to earn Nudge Points."})]}):u.jsx("div",{className:"space-y-3",children:t.map((s,i)=>u.jsx("div",{className:`p-4 rounded-lg border-2 ${n(i)} transition-all duration-200 hover:scale-105`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[r(i),u.jsxs("span",{className:"text-lg font-bold text-gray-700",children:["#",i+1]})]}),u.jsx("div",{children:u.jsxs("p",{className:"font-semibold text-gray-900",children:["u/",s.reddit_username]})})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-2xl font-bold text-primary-600",children:s.nudge_points}),u.jsx("p",{className:"text-sm text-gray-500",children:"Nudge Points"})]})]})},s.reddit_username))}),u.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-primary-50 to-accent-50 rounded-lg border border-primary-100",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How to earn points:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsxs("li",{children:[" Post a task: ",u.jsx("span",{className:"font-medium text-primary-600",children:"5 points"})]}),u.jsxs("li",{children:[" Complete a task: ",u.jsx("span",{className:"font-medium text-accent-600",children:"10 points"})]})]})]})]})}function jm(){const[t,e]=A.useState("loading"),[r,n]=A.useState("");return A.useEffect(()=>{(async()=>{const i=new URLSearchParams(window.location.search),o=i.get("code"),a=i.get("error");if(a){e("error"),n(`Authentication failed: ${a}`);return}if(!o){e("error"),n("No authorization code received");return}try{await Xe.handleAuthCallback(o)?(e("success"),n("Successfully connected to Reddit!"),setTimeout(()=>{window.location.href="/"},2e3)):(e("error"),n("Failed to authenticate with Reddit"))}catch(l){e("error"),n("An error occurred during authentication"),console.error("Auth callback error:",l)}})()},[]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-accent-50 flex items-center justify-center",children:u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100 max-w-md w-full mx-4",children:u.jsxs("div",{className:"text-center",children:[t==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx(eh,{className:"h-12 w-12 text-primary-500 mx-auto mb-4 animate-spin"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connecting to Reddit..."}),u.jsx("p",{className:"text-gray-600",children:"Please wait while we complete the authentication process."})]}),t==="success"&&u.jsxs(u.Fragment,{children:[u.jsx(Br,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Success!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:r}),u.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you back to NeighborNudge..."})]}),t==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(vm,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Authentication Failed"}),u.jsx("p",{className:"text-gray-600 mb-4",children:r}),u.jsx("button",{onClick:()=>window.location.href="/",className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Return to NeighborNudge"})]})]})})})}function bm({onAuthChange:t}){const[e,r]=A.useState(!1);A.useEffect(()=>{const i=()=>{const a=Xe.isAuthenticated();r(a),t==null||t(a)};i();const o=setInterval(i,6e4);return()=>clearInterval(o)},[t]);const n=()=>{const i=Xe.getAuthUrl();window.location.href=i},s=()=>{Xe.logout(),r(!1),t==null||t(!1)};return e?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"flex items-center space-x-1 text-green-600 text-sm",children:[u.jsx(Br,{className:"h-4 w-4"}),u.jsx("span",{children:"Reddit Connected"})]}),u.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 p-1 rounded",title:"Disconnect from Reddit",children:u.jsx(cm,{className:"h-4 w-4"})})]}):u.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-orange-500 text-white px-3 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[u.jsx(Xt,{className:"h-4 w-4"}),u.jsx("span",{children:"Connect Reddit"})]})}const Nm="modulepreload",Em=function(t){return"/"+t},Nu={},Qn=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Em(i),i in Nu)return;Nu[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Nm,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Tm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(()=>Promise.resolve().then(()=>Kr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class cl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Cm extends cl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pm extends cl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rm extends cl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oa||(oa={}));var Om=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class $m{constructor(e,{headers:r={},customFetch:n,region:s=oa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Tm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Om(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Cm(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Pm(d);if(!d.ok)throw new Rm(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var _e={},dl={},bi={},Gn={},Ni={},Ei={},Im=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hr=Im();const Am=Hr.fetch,rh=Hr.fetch.bind(Hr),nh=Hr.Headers,Lm=Hr.Request,Dm=Hr.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:nh,Request:Lm,Response:Dm,default:rh,fetch:Am},Symbol.toStringTag,{value:"Module"})),Um=Ch(Kr);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let Mm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=Mm;var sh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const zm=sh(Um),Fm=sh(Ti);let Bm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&w===""?(f=204,y="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new Fm.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ei.default=Bm;var Hm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const Wm=Hm(Ei);let Vm=class extends Wm.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ni.default=Vm;var qm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gn,"__esModule",{value:!0});const Km=qm(Ni);let Qm=class extends Km.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gn.default=Qm;var Gm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});const on=Gm(Gn);let Jm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new on.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new on.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new on.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new on.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new on.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bi.default=Jm;var Ci={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.version=void 0;Pi.version="0.0.0-automated";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DEFAULT_HEADERS=void 0;const Ym=Pi;Ci.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ym.version}`};var ih=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dl,"__esModule",{value:!0});const Xm=ih(bi),Zm=ih(Gn),eg=Ci;let tg=class oh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},eg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Xm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new oh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Zm.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};dl.default=tg;var Qr=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const ah=Qr(dl);_e.PostgrestClient=ah.default;const lh=Qr(bi);_e.PostgrestQueryBuilder=lh.default;const uh=Qr(Gn);_e.PostgrestFilterBuilder=uh.default;const ch=Qr(Ni);_e.PostgrestTransformBuilder=ch.default;const dh=Qr(Ei);_e.PostgrestBuilder=dh.default;const hh=Qr(Ti);_e.PostgrestError=hh.default;var rg=_e.default={PostgrestClient:ah.default,PostgrestQueryBuilder:lh.default,PostgrestFilterBuilder:uh.default,PostgrestTransformBuilder:ch.default,PostgrestBuilder:dh.default,PostgrestError:hh.default};const{PostgrestClient:ng,PostgrestQueryBuilder:Y0,PostgrestFilterBuilder:X0,PostgrestTransformBuilder:Z0,PostgrestBuilder:ey,PostgrestError:ty}=rg;function sg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ig=sg(),og="2.11.15",ag=`realtime-js/${og}`,lg="1.0.0",fh=1e4,ug=1e3;var _n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_n||(_n={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var aa;(function(t){t.websocket="websocket"})(aa||(aa={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class cg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ph{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Eu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=dg(o,t,e,s),i),{})},dg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?mh(i,o):la(o)},mh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mg(e,r)}switch(t){case z.bool:return hg(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return fg(e);case z.json:case z.jsonb:return pg(e);case z.timestamp:return gg(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return la(e);default:return la(e)}},la=t=>t,hg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>mh(e,a))}return t},gg=t=>typeof t=="string"?t.replace(" ","T"):t,gh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class io{constructor(e,r,n={},s=fh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tu||(Tu={}));class kn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=kn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),x=d.filter(b=>y.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cu||(Cu={}));var Pu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pu||(Pu={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class hl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,We.join,this.params,this.timeout),this.rejoinTimer=new ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kn(this),this.broadcastEndpointURL=gh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(st.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(st.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<y;w++){const b=f[w],{filter:{event:g,schema:p,table:m,filter:v}}=b,k=d&&d[w];if(k&&k.event===g&&k.schema===p&&k.table===m&&k.filter===v)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=ce.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(st.SUBSCRIBED);return}}).receive("error",d=>{this.state=ce.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new io(this,We.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=We;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,w,b;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,w,b,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,k=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((w=r.ids)===null||w===void 0?void 0:w.includes(v))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const v=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return v==="*"||v===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:b,commit_timestamp:g,type:p,errors:m}=x;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(x))}y.callback(f,n)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hl.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Eu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Eu(e.columns,e.old_record)),r}}const Ru=()=>{},yg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vg{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ru,this.ref=0,this.logger=Ru,this.conn=null,this.sendBuffer=[],this.serializer=new cg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Qn(()=>Promise.resolve().then(()=>Kr),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${aa.websocket}`,this.httpEndpoint=gh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ph(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ig),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lg}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _n.connecting:return Qt.Connecting;case _n.open:return Qt.Open;case _n.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ag};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(We.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ug,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([yg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class fl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wg extends fl{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ua extends fl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var xg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(()=>Promise.resolve().then(()=>Kr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},_g=()=>xg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qn(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),ca=t=>{if(Array.isArray(t))return t.map(r=>ca(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ca(n)}),e};var lr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kg=(t,e,r)=>lr(void 0,void 0,void 0,function*(){const n=yield _g();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new wg(oo(s),t.status||500))}).catch(s=>{e(new ua(oo(s),s))}):e(new ua(oo(t),t))}),Sg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Jn(t,e,r,n,s,i){return lr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Sg(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kg(l,a,n))})})}function ai(t,e,r,n){return lr(this,void 0,void 0,function*(){return Jn(t,"GET",e,r,n)})}function wt(t,e,r,n,s){return lr(this,void 0,void 0,function*(){return Jn(t,"POST",e,n,s,r)})}function jg(t,e,r,n,s){return lr(this,void 0,void 0,function*(){return Jn(t,"PUT",e,n,s,r)})}function bg(t,e,r,n){return lr(this,void 0,void 0,function*(){return Jn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vh(t,e,r,n,s){return lr(this,void 0,void 0,function*(){return Jn(t,"DELETE",e,n,s,r)})}var we=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ng={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Eg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=yh(s)}uploadOrUpdate(e,r,n,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ou),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Ou.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new fl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}update(e,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return we(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,r){return we(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ca(n),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}exists(e){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield bg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(re(n)&&n instanceof ua){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}list(e,r,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ng),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Tg="2.7.1",Cg={"X-Client-Info":`storage-js/${Tg}`};var dr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Pg{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Cg),r),this.fetch=yh(n)}listBuckets(){return dr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return dr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return dr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return dr(this,void 0,void 0,function*(){try{return{data:yield jg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return dr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dr(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}}class Rg extends Pg{constructor(e,r={},n){super(e,r,n)}from(e){return new Eg(this.url,this.headers,e,this.fetch)}}const Og="2.50.2";let dn="";typeof Deno<"u"?dn="deno":typeof document<"u"?dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dn="react-native":dn="node";const $g={"X-Client-Info":`supabase-js-${dn}/${Og}`},Ig={headers:$g},Ag={schema:"public"},Lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dg={};var Ug=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Mg=t=>{let e;return t?e=t:typeof fetch>"u"?e=rh:e=fetch,(...r)=>e(...r)},zg=()=>typeof Headers>"u"?nh:Headers,Fg=(t,e,r)=>{const n=Mg(r),s=zg();return(i,o)=>Ug(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Bg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Hg(t){return t.endsWith("/")?t:t+"/"}function Wg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Bg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const wh="2.70.0",mr=30*1e3,da=3,ao=da*mr,Vg="http://localhost:9999",qg="supabase.auth.token",Kg={"X-Client-Info":`gotrue-js/${wh}`},ha="X-Supabase-Api-Version",xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gg=6e5;class pl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jg extends pl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yg(t){return P(t)&&t.name==="AuthApiError"}class _h extends pl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class zt extends pl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class gt extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xg(t){return P(t)&&t.name==="AuthSessionMissingError"}class vs extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xs extends zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zg(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fa extends zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lo(t){return P(t)&&t.name==="AuthRetryableFetchError"}class Iu extends zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sn extends zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Au=` 	
\r=`.split(""),e0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Au.length;e+=1)t[Au[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Lu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function kh(t,e,r){const n=e0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Du(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{n0(o,n,r)};for(let o=0;o<t.length;o+=1)kh(t.charCodeAt(o),s,i);return e.join("")}function t0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function r0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}t0(n,e)}}function n0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function s0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)kh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function i0(t){const e=[];return r0(t,r=>e.push(r)),new Uint8Array(e)}function o0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Lu(s,r,n)),Lu(null,r,n),e.join("")}function a0(t){return Math.round(Date.now()/1e3)+t}function l0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},jn=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function u0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qn(()=>Promise.resolve().then(()=>Kr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},c0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},_s=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ks=async(t,e)=>{await t.removeItem(e)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ri.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new Sn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Qg.test(e[n]))throw new Sn("JWT not in base64url format");return{header:JSON.parse(Du(e[0])),payload:JSON.parse(Du(e[1])),signature:s0(e[2]),raw:{header:e[0],payload:e[1]}}}async function d0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function f0(t){return("0"+t.toString(16)).substr(-2)}function p0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,f0).join("")}async function m0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function g0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await m0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hr(t,e,r=!1){const n=p0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jh(t,`${e}-code-verifier`,s);const i=await g0(n);return[i,n===i?"plain":"s256"]}const y0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v0(t){const e=t.headers.get(ha);if(!e||!e.match(y0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function x0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(t){if(!_0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var k0=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S0=[502,503,504];async function Uu(t){var e;if(!c0(t))throw new fa(qt(t),0);if(S0.includes(t.status))throw new fa(qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new _h(qt(i),i)}let n;const s=v0(t);if(s&&s.getTime()>=xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Iu(qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Iu(qt(r),t.status,r.weak_password.reasons);throw new Jg(qt(r),t.status||500,n)}const j0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ha]||(i[ha]=xh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await b0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function b0(t,e,r,n,s,i){const o=j0(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new fa(qt(l),0)}if(a.ok||await Uu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Uu(l)}}function rt(t){var e;let r=null;C0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=a0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Mu(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N0(t){return{data:t,error:null}}function E0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=k0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function T0(t){return t}function C0(t){return t.access_token&&t.refresh_token&&t.expires_in}const co=["global","local","others"];var P0=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class R0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Sh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=co[0]){if(co.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=P0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:E0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:T0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(P(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fr(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fr(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fr(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fr(e.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fr(e.userId),fr(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}}const O0={getItem:t=>jn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{jn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{jn()&&globalThis.localStorage.removeItem(t)}};function zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function $0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pr={debug:!!(globalThis&&jn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class I0 extends bh{}async function A0(t,e,r){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new I0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$0();const L0={url:Vg,storageKey:qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fu(t,e,r){return await r()}class Bn{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bn.nextInstanceID,Bn.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},L0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new R0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sh(s.fetch),this.lock=s.lock||Fu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=A0:this.lock=Fu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jn()?this.storage=O0:(this.memoryStorage={},this.storage=zu(this.memoryStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=u0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?{error:r}:{error:new _h("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await hr(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:x},xform:rt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rt})}else throw new ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else throw new ws("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,f,y;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:b,wallet:g,statement:p,options:m}=e;let v;if(Fe())if(typeof g=="object")v=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))v=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const _=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:b,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:o0(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new vs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(P(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await _s(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rt});if(await ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(P(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await hr(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ws("You must provide either an email or phone number.")}catch(a){if(P(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hr(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:N0})}catch(i){if(P(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gt;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ws("You must provide either an email or phone number and a type")}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(r){if(P(r))return Xg(r)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hr(this.storage,this.storageKey));const{data:c,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(P(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Fe())throw new xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const y=f-d;y*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(P(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Yg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=l0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await hr(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(P(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(P(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h0(async s=>(s>0&&await d0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-n<mr})}catch(n){if(this._debug(r,"error",n),P(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Fe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await _s(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ao;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ao}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),lo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ri;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mr}ms, refresh threshold is ${da} ticks`),s<=da&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await hr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(P(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Gg>Date.now()))return n;const{data:s,error:i}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Sn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Sn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=uo(n);if(w0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=x0(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,i0(`${a}.${l}`)))throw new Sn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}}Bn.nextInstanceID=0;const D0=Bn;class U0 extends D0{constructor(e){super(e)}}var M0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class z0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Hg(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Ag,realtime:Dg,auth:Object.assign(Object.assign({},Lg),{storageKey:c}),global:Ig},h=Wg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Fg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ng(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new $m(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return M0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F0=(t,e,r)=>new z0(t,e,r),B0="https://daigghqgemqnujoamfov.supabase.co",H0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRhaWdnaHFnZW1xbnVqb2FtZm92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyOTYxMTEsImV4cCI6MjA2Njg3MjExMX0.yrmtr-gYcQYt-GUiOvYzfz57VD0egOzFtrAvtyiX8gc",Je=F0(B0,H0);function W0(){const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,i]=A.useState(!0),[o,a]=A.useState("home"),[l,c]=A.useState(""),[d,h]=A.useState(null),[f,y]=A.useState(!1),x=window.location.pathname==="/reddit-callback";A.useEffect(()=>{x||w()},[x]);const w=async()=>{try{const{error:_}=await Je.from("tasks").select("count",{count:"exact",head:!0});_?(console.error("Database connection error:",_),h(!1)):(h(!0),b(),g())}catch(_){console.error("Connection test failed:",_),h(!1),i(!1)}},b=async()=>{try{const{data:_,error:S}=await Je.from("tasks").select("*").order("created_at",{ascending:!1});if(S){console.error("Supabase error:",S);return}e(_||[])}catch(_){console.error("Error fetching tasks:",_),_ instanceof Error&&!_.message.includes("Failed to fetch")&&alert("Error loading tasks. Please try refreshing the page.")}finally{i(!1)}},g=async()=>{try{const{data:_,error:S}=await Je.from("users").select("*").order("nudge_points",{ascending:!1}).limit(10);if(S){console.error("Supabase error:",S);return}n(_||[])}catch(_){console.error("Error fetching users:",_)}},p=async _=>{if(d===!1){alert("Database connection is not available. Please connect to Supabase first.");return}try{const{error:S}=await Je.from("tasks").select("count",{count:"exact",head:!0});if(S){console.error("Connection test failed:",S),h(!1),alert("Database connection failed. Please check your Supabase configuration and try again.");return}const{data:N,error:$}=await Je.from("tasks").insert([{..._,status:"open"}]).select().single();if($){console.error("Supabase error:",$),$.message.includes("JWT")?alert("Authentication error. Please check your Supabase configuration."):$.message.includes("permission")?alert("Permission denied. Please check your database policies."):alert(`Error submitting task: ${$.message}`);return}try{const{error:C}=await Je.rpc("increment_user_points",{username:_.proposer,points:5});C&&console.error("Error updating points:",C)}catch(C){console.error("Error calling increment_user_points:",C)}return e(C=>[N,...C]),g(),a("browse"),N}catch(S){console.error("Error submitting task:",S),S instanceof Error?S.message.includes("Failed to fetch")||S.message.includes("NetworkError")?alert("Network error. Please check your internet connection and try again."):alert(`Error submitting task: ${S.message}`):alert("Error submitting task. Please check your connection and try again.")}},m=async(_,S)=>{try{const{data:N,error:$}=await Je.from("tasks").select("status, proposer").eq("task_id",_).single();if($){console.error("Error checking task:",$),alert("Error checking task status. Please try again.");return}if(!N){alert("Task not found.");return}if(N.status!=="open"){alert("This task is no longer available."),b();return}if(N.proposer===S){alert("You cannot claim your own task.");return}const{error:C}=await Je.from("tasks").update({status:"in_progress",claimer:S}).eq("task_id",_).eq("status","open");if(C){console.error("Supabase error:",C),C.message.includes("permission")?alert("Permission denied. Please check your database configuration."):alert(`Error claiming task: ${C.message}`);return}b(),alert("Task claimed successfully! You can now start working on it.")}catch(N){console.error("Error claiming task:",N),alert("Error claiming task. Please check your connection and try again.")}},v=async(_,S)=>{try{const{error:N}=await Je.from("tasks").update({status:"completed"}).eq("task_id",_);if(N){console.error("Supabase error:",N),alert("Error completing task. Please try again.");return}try{const{error:$}=await Je.rpc("increment_user_points",{username:S,points:10});$&&console.error("Error updating points:",$)}catch($){console.error("Error calling increment_user_points:",$)}b(),g()}catch(N){console.error("Error completing task:",N),alert("Error completing task. Please check your connection and try again.")}},k=()=>{switch(o){case"home":return u.jsx(bu,{onNavigate:a});case"post":return u.jsx(xm,{onSubmit:p,currentUser:l,setCurrentUser:c,isConnected:d,isRedditAuthenticated:f});case"browse":return u.jsx(_m,{tasks:t,loading:s,onClaimTask:m,currentUser:l,setCurrentUser:c,isConnected:d});case"my-tasks":return u.jsx(km,{tasks:t,loading:s,currentUser:l,setCurrentUser:c,onCompleteTask:v});case"leaderboard":return u.jsx(Sm,{users:r,loading:s});default:return u.jsx(bu,{onNavigate:a})}};return x?u.jsx(jm,{}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-accent-50",children:[u.jsx("header",{className:"bg-white shadow-sm border-b-2 border-primary-100",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-3 flex-1",children:[u.jsx(Kt,{className:"h-8 w-8 text-accent-500"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"NeighborNudge"}),u.jsx(Kt,{className:"h-8 w-8 text-primary-500"})]}),u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx(bm,{onAuthChange:y})})]}),u.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Building stronger communities through mutual aid"}),u.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2",children:[d!==null&&u.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d?" Database Connected":" Database Disconnected"}),f&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:" Reddit Connected"})]})]})}),u.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4",children:u.jsxs("div",{className:"flex space-x-1 overflow-x-auto py-2",children:[u.jsxs("button",{onClick:()=>a("home"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o==="home"?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(lm,{className:"h-5 w-5"}),u.jsx("span",{children:"Home"})]}),u.jsxs("button",{onClick:()=>a("post"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o==="post"?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(hm,{className:"h-5 w-5"}),u.jsx("span",{children:"Post Task"})]}),u.jsxs("button",{onClick:()=>a("browse"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o==="browse"?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(um,{className:"h-5 w-5"}),u.jsx("span",{children:"Browse Tasks"})]}),u.jsxs("button",{onClick:()=>a("my-tasks"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o==="my-tasks"?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(oi,{className:"h-5 w-5"}),u.jsx("span",{children:"My Tasks"})]}),u.jsxs("button",{onClick:()=>a("leaderboard"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o==="leaderboard"?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[u.jsx(Tr,{className:"h-5 w-5"}),u.jsx("span",{children:"Leaderboard"})]})]})})}),l&&u.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 py-2",children:u.jsxs("p",{className:"text-center text-blue-700 text-sm",children:[u.jsx(oi,{className:"h-4 w-4 inline mr-1"}),"Logged in as: ",u.jsxs("span",{className:"font-semibold",children:["u/",l]}),u.jsx("span",{className:"text-blue-600 ml-2",children:"(This username is used across all sections)"})]})})}),u.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:k()}),u.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:u.jsxs("div",{className:"text-center text-gray-600",children:[u.jsx("p",{className:"mb-2",children:"Made with  for stronger communities"}),u.jsx("p",{className:"text-sm",children:"Connect with your neighbors and build mutual aid networks in your area"})]})})})]})}ho.createRoot(document.getElementById("root")).render(u.jsx(Vh.StrictMode,{children:u.jsx(W0,{})}));
